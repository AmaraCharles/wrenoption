(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[36447,83912],{167175:(e,t,o)=>{"use strict";o.d(t,{isAndroid:()=>b,isAnyMobile:()=>w,isBlackBerry:()=>y,isChrome:()=>a,isEdge:()=>d,isFF:()=>l,isIOS:()=>_,isIPad:()=>C,isLinux:()=>p,isMac:()=>c,isOperaMini:()=>g,isSafari:()=>h,isWindows:()=>u,mobiletouch:()=>s,touch:()=>n});const i="undefined"!=typeof window&&"undefined"!=typeof navigator,r=i&&"ontouchstart"in window,s=i&&r&&"onorientationchange"in window,n=i&&(r||!!navigator.maxTouchPoints),a=i&&window.chrome&&window.chrome.runtime,l=i&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,d=i&&/\sEdge\/\d\d\b/.test(navigator.userAgent),h=i&&Boolean(navigator.vendor)&&navigator.vendor.indexOf("Apple")>-1&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS"),c=i&&/mac/i.test(navigator.platform),u=i&&/Win32|Win64/i.test(navigator.platform),p=i&&/Linux/i.test(navigator.platform),b=i&&/Android/i.test(navigator.userAgent),y=i&&/BlackBerry/i.test(navigator.userAgent),_=i&&/iPhone|iPad|iPod/.test(navigator.platform),g=i&&/Opera Mini/i.test(navigator.userAgent),C=i&&("MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/iPad/.test(navigator.platform)),w=b||y||_||g},554433:(e,t,o)=>{"use strict";o.d(t,{VisibilityApi:()=>s});var i=o(6826),r=o.n(i);class s{constructor(e){let t;this.isVisible=new(r())(!0);let o=null;for(const i of["","moz","ms","webkit"]){const r=i?`${i}Hidden`:"hidden";if(r in e){t=`${i}visibilitychange`,o=()=>{this.isVisible.setValue(!e[r])},o(),e.addEventListener(t,o,!1);break}}this.destroy=()=>{o&&(e.removeEventListener(t,o,!1),o=null)}}}},583912:(e,t,o)=>{"use strict";o.d(t,{linking:()=>f});var i=o(12481),r=o(650151),s=o(6826),n=o.n(s),a=o(244842),l=o(223699),d=o(444331),h=o(201089),c=o(62802),u=o(588948),p=o(776734),b=o(125226),y=o(707621),_=o(912445),g=o(502141);const C=(0,h.getLogger)("Linking"),w=(0,b.isFeatureEnabled)("poop_linking")||!1;var m;!function(e){e[e.NotBound=0]="NotBound",e[e.BoundToWidget=1]="BoundToWidget",e[e.BoundToModel=2]="BoundToModel"}(m||(m={}));class S{constructor(e,t,o){this.watchedSymbol=new(n()),this.seriesShortSymbol=new(n()),this.proSymbol=new(n()),this.watchedInterval=new(n()),this.watchedIntraday=new(n()),this.watchedSeconds=new(n()),this.watchedTicks=new(n()),this.watchedDataFrequencyResolution=new(n()),this.watchedRange=new(n()),this.watchedSupportedResolutions=new(n()),this.watchedSupportedChartStyles=new(n()),this.symbolNamesList=new(n()),this._chartWidgetCollection=null,this._chartWidgetBindingState=m.NotBound,this._activeChartWidget=null,this._linkingGroupCharts=null,this._boundChartWidget=null,this._watchedSymbolListenerBound=this._watchedSymbolListener.bind(this),this._watchedIntervalListenerBound=this._watchedIntervalListener.bind(this),this._muted=!1,this.updateBoundChartWidget=()=>{const e=this._chartToBind();e!==this._boundChartWidget&&(null===e?this.unbindFromChartWidget():this.bindToChartWidget(e))},this._updateAllGroupChartWidgets=()=>{var e
;null===(e=this._destroySymbolIntervalPropertySubscriptions)||void 0===e||e.call(this);const t=(0,r.ensureNotNull)(this._linkingGroupCharts).value(),o=t.map((e=>e.symbolWV().spawn())),i=t.map((e=>e.resolutionWV().spawn()));o.forEach((e=>e.subscribe(this._updateSymbolByProperty.bind(this)))),i.forEach((e=>e.subscribe(this._updateIntervalByProperty.bind(this)))),this._destroySymbolIntervalPropertySubscriptions=()=>{o.forEach((e=>e.destroy())),i.forEach((e=>e.destroy())),this._destroySymbolIntervalPropertySubscriptions=void 0};const s=this.watchedSymbol.value();t.length>1&&this._needApplySymbol(s)&&!this._muted&&this._setGroupSymbol(s);const n=this.watchedInterval.value();t.length>1&&this._needApplyInterval(n)&&!this._muted&&this._setGroupInterval(n),this.updateBoundChartWidget()},this._groupIndex=e;const i=(e,t)=>{e.subscribe((e=>{o()===this&&t.setValue(e)}),{callWithLast:!0})};i(this.watchedSymbol,t.watchedSymbol),i(this.seriesShortSymbol,t.seriesShortSymbol),i(this.proSymbol,t.proSymbol),i(this.watchedInterval,t.watchedInterval),i(this.watchedIntraday,t.watchedIntraday),i(this.watchedSeconds,t.watchedSeconds),i(this.watchedTicks,t.watchedTicks),i(this.watchedDataFrequencyResolution,t.watchedDataFrequencyResolution),i(this.watchedRange,t.watchedRange),i(this.watchedSupportedResolutions,t.watchedSupportedResolutions),i(this.watchedSupportedChartStyles,t.watchedSupportedChartStyles),i(this.symbolNamesList,t.symbolNamesList)}mute(e){this._muted=e}bindToChartWidgetCollection(e){this.unbindFromChartWidgetCollection(),this._chartWidgetCollection=e,this._activeChartWidget=e.activeChartWidget.spawn(),this._activeChartWidget.subscribe(this.updateBoundChartWidget),this._linkingGroupCharts=e.linkingGroupsCharts(this._groupIndex).spawn(),this._linkingGroupCharts.subscribe(this._updateAllGroupChartWidgets),this.updateBoundChartWidget(),this._updateAllGroupChartWidgets()}unbindFromChartWidgetCollection(){var e,t,o;this.unbindFromChartWidget(),this._chartWidgetCollection=null,null===(e=this._activeChartWidget)||void 0===e||e.destroy(),this._activeChartWidget=null,null===(t=this._linkingGroupCharts)||void 0===t||t.destroy(),this._linkingGroupCharts=null,null===(o=this._destroySymbolIntervalPropertySubscriptions)||void 0===o||o.call(this)}bindToChartWidget(e){if(this.unbindFromChartWidget(),this._boundChartWidget=e,e.hasModel())return void this._onChartModelCreated(e.model());e.modelCreated().subscribe(this,this._onChartModelCreated),this._chartWidgetBindingState=m.BoundToWidget;const t=e.properties().childs().mainSeriesProperties.childs();this.watchedSymbol.setValue(t.symbol.value()),this.watchedInterval.setValue(t.interval.value()),this._boundChartWidget.linkingGroupIndex().subscribe(this.updateBoundChartWidget)}unbindFromChartWidget(){const e=this._boundChartWidget;if(null!==e){switch(this._chartWidgetBindingState){case m.BoundToWidget:e.modelCreated().unsubscribe(this,this._onChartModelCreated);break;case m.BoundToModel:this.watchedSymbol.unsubscribe(this._watchedSymbolListenerBound),
this._mainSeries().dataEvents().symbolResolved().unsubscribe(this,this._updateSeriesSymbolInfo),this._mainSeries().dataEvents().symbolError().unsubscribe(this,this._updateSeriesSymbolInfo),this.watchedInterval.unsubscribe(this._watchedIntervalListenerBound),delete this.watchedSymbol.hook,delete this.watchedSymbol.writeLock}e.linkingGroupIndex().unsubscribe(this.updateBoundChartWidget),this._boundChartWidget=null,this._chartWidgetBindingState=m.NotBound}}boundChartWidget(){return this._boundChartWidget}_mainSeries(){if(!this._boundChartWidget)throw new Error("ChartWidget is undefined");return this._boundChartWidget.model().mainSeries()}_watchedSymbolListener(e){this._needApplySymbol(e)&&!this._muted&&(this._setGroupSymbol(e),this._sendSnowplowAnalytics())}_updateSymbolByProperty(e){this._needApplySymbol(e)&&!this._muted&&this._setGroupSymbol(e),this.watchedSymbol.setValue(e)}_watchedIntervalListener(e){const t=l.Interval.normalize(e);t&&this._needApplyInterval(t)&&!this._muted&&this._setGroupInterval(t)}_updateIntervalByProperty(e){const t=l.Interval.normalize(e);t&&this._needApplyInterval(t)&&!this._muted&&this._setGroupInterval(t),this.watchedInterval.setValue(null!=t?t:e)}_sendSnowplowAnalytics(){if(window.user.do_not_track)return;const e=this._mainSeries(),t=()=>{e.dataEvents().symbolResolved().unsubscribe(this,o)},o=o=>{(0,p.getTracker)().then((e=>{if(null===e)return;const t=(0,r.ensureNotNull)(this._chartWidgetCollection),i=t.layout.value(),s=t.metaInfo.uid.value()||"";e.trackChartSymbols(o.pro_name,o.type,i,s)})),e.dataEvents().symbolError().unsubscribe(this,t)};e.dataEvents().symbolResolved().subscribe(this,o,!0),e.dataEvents().symbolError().subscribe(this,t,!0)}_updateSeriesSymbolInfo(){this.seriesShortSymbol.setValue((0,r.ensureNotNull)(this._boundChartWidget).getSymbol(!0));const e=this._mainSeries().symbolInfo();if(e){const t=e.pro_name||a.enabled("trading_terminal")&&(e.full_name||e.name)||"";this.proSymbol.setValue(t),e.aliases&&this.symbolNamesList.setValue(e.aliases);let o=(0,y.allChartStyles)();(0,d.isCloseBasedSymbol)(e)&&(o=o.filter((e=>(0,d.isSingleValueBasedStyle)(e)))),this.watchedSupportedChartStyles.setValue(o),this.watchedIntraday.setValue(!!e.has_intraday),this.watchedSeconds.setValue(!!e.has_seconds),this.watchedTicks.setValue(!(0,d.isCloseBasedSymbol)(e)&&!!e.has_ticks),this.watchedRange.setValue(!(0,d.isCloseBasedSymbol)(e));const i=e.data_frequency?e.data_frequency:void 0;this.watchedDataFrequencyResolution.setValue(i)}else this.watchedIntraday.deleteValue(),this.watchedSeconds.deleteValue(),this.watchedTicks.deleteValue(),this.watchedRange.deleteValue(),this.proSymbol.deleteValue()}_onChartModelCreated(e){if(!this._boundChartWidget)throw new Error("ChartWidget is undefined");this._chartWidgetBindingState=m.BoundToModel,this._boundChartWidget.modelCreated().unsubscribe(this,this._onChartModelCreated),this.watchedSymbol.setValue(this._boundChartWidget.symbolWV().value()),this.watchedSymbol.subscribe(this._watchedSymbolListenerBound);const t=this._mainSeries()
;t.dataEvents().symbolResolved().subscribe(this,this._updateSeriesSymbolInfo),t.dataEvents().symbolError().subscribe(this,this._updateSeriesSymbolInfo),t.dataEvents().symbolNotPermitted().subscribe(this,this._updateSeriesSymbolInfo),t.dataEvents().symbolGroupNotPermitted().subscribe(this,this._updateSeriesSymbolInfo),this._updateSeriesSymbolInfo(),this.watchedInterval.setValue(this._boundChartWidget.resolutionWV().value()),this.watchedInterval.subscribe(this._watchedIntervalListenerBound),this._boundChartWidget.readOnly()&&(this.watchedSymbol.writeLock=!0)}_chartToBind(){var e;const t=this._chartWidgetCollection;return null===t?null:w&&t.activeChartWidget.value().linkingGroupIndex().value()!==this._groupIndex?null!==this._boundChartWidget&&this._boundChartWidget.linkingGroupIndex().value()===this._groupIndex?this._boundChartWidget:null!==(e=t.getAll().find((e=>e.linkingGroupIndex().value()===this._groupIndex)))&&void 0!==e?e:null:t.activeChartWidget.value()}_setGroupSymbol(e){this.mute(!0),(0,r.ensureNotNull)(this._chartWidgetCollection).setSymbol(e,this._groupIndex),this.mute(!1)}_needApplySymbol(e){const t=(0,r.ensureNotNull)(this._linkingGroupCharts).value(),o=t.find((t=>t.hasModel()&&t.model().mainSeries().symbolInfo()&&t.model().mainSeries().symbolSameAsCurrent(e)));if(o){const e=o.model().mainSeries().symbolInfo();if(t.every((t=>(0,g.symbolSameAsCurrent)(t.symbolWV().value(),e))))return!1}return t.some((t=>t.symbolWV().value()!==e))}_setGroupInterval(e){this.mute(!0),(0,r.ensureNotNull)(this._chartWidgetCollection).setResolution(e,this._groupIndex),this.mute(!1)}_needApplyInterval(e){return(0,r.ensureNotNull)(this._linkingGroupCharts).value().some((t=>!l.Interval.isEqual(t.resolutionWV().value(),e)))}}const f=new class{constructor(){this._watchedSymbol=new(n()),this._seriesShortSymbol=new(n()),this._proSymbol=new(n()),this._watchedInterval=new(n()),this._watchedIntraday=new(n()),this._watchedSeconds=new(n()),this._watchedTicks=new(n()),this._watchedDataFrequencyResolution=new(n()),this._watchedRange=new(n()),this._watchedSupportedResolutions=new(n()),this._watchedSupportedChartStyles=new(n())([]),this._symbolNamesList=new(n()),this._chartWidgetCollection=null,this._onSymbolLinkBound=this._onSymbolLink.bind(this),this._searchCharts=null,this._searchChartsLoadDebounced=null,this._selfEmit=!1,this._preventFeedBySymbol=!1,this._feedBySymbolDebounceCounter=0,this._linkingGroups=new Map,this._activeLinkingGroup=new(n()),this._activeLinkingGroupIndex=null,this._updateLinkingGroups=()=>{(0,r.ensureNotNull)(this._chartWidgetCollection).allLinkingGroups().value().forEach((e=>this._linkingGroup(e))),this._linkingGroups.forEach((e=>e.updateBoundChartWidget()))},this._activeLinkingGroup.setValue(this._linkingGroup(null));const e=(e,t)=>{e.subscribe((e=>t().setValue(e)),{callWithLast:!0})};e(this._watchedSymbol,(()=>this._activeLinkingGroup.value().watchedSymbol)),e(this._seriesShortSymbol,(()=>this._activeLinkingGroup.value().seriesShortSymbol)),e(this._proSymbol,(()=>this._activeLinkingGroup.value().proSymbol)),
e(this._watchedInterval,(()=>this._activeLinkingGroup.value().watchedInterval)),e(this._watchedIntraday,(()=>this._activeLinkingGroup.value().watchedIntraday)),e(this._watchedSeconds,(()=>this._activeLinkingGroup.value().watchedSeconds)),e(this._watchedTicks,(()=>this._activeLinkingGroup.value().watchedTicks)),e(this._watchedDataFrequencyResolution,(()=>this._activeLinkingGroup.value().watchedDataFrequencyResolution)),e(this._watchedRange,(()=>this._activeLinkingGroup.value().watchedRange)),e(this._watchedSupportedResolutions,(()=>this._activeLinkingGroup.value().watchedSupportedResolutions)),e(this._watchedSupportedChartStyles,(()=>this._activeLinkingGroup.value().watchedSupportedChartStyles)),e(this._symbolNamesList,(()=>this._activeLinkingGroup.value().symbolNamesList));const t=e=>{this._watchedSymbol.setValue(e.watchedSymbol.value()),this._seriesShortSymbol.setValue(e.seriesShortSymbol.value()),this._proSymbol.setValue(e.proSymbol.value()),this._watchedInterval.setValue(e.watchedInterval.value()),this._watchedIntraday.setValue(e.watchedIntraday.value()),this._watchedSeconds.setValue(e.watchedSeconds.value()),this._watchedTicks.setValue(e.watchedTicks.value()),this._watchedDataFrequencyResolution.setValue(e.watchedDataFrequencyResolution.value()),this._watchedRange.setValue(e.watchedRange.value()),this._watchedSupportedResolutions.setValue(e.watchedSupportedResolutions.value()),this._watchedSupportedChartStyles.setValue(e.watchedSupportedChartStyles.value()),this._symbolNamesList.setValue(e.symbolNamesList.value())};this._activeLinkingGroup.subscribe(t),t(this._activeLinkingGroup.value()),(0,_.setMuteLinkingGroup)(((e,t)=>{this._linkingGroup(e).mute(t)}))}get symbol(){return this._watchedSymbol}get proSymbol(){return this._proSymbol}get symbolNamesList(){return this._symbolNamesList}get seriesShortSymbol(){return this._seriesShortSymbol.readonly()}get interval(){return this._watchedInterval}get intraday(){return this._watchedIntraday.readonly()}get seconds(){return this._watchedSeconds.readonly()}get ticks(){return this._watchedTicks.readonly()}get range(){return this._watchedRange.readonly()}get supportedResolutions(){return this._watchedSupportedResolutions.readonly()}get supportedChartStyles(){return this._watchedSupportedChartStyles.readonly()}get preventFeedBySymbol(){return this._preventFeedBySymbol}get dataFrequencyResolution(){return this._watchedDataFrequencyResolution.readonly()}activeLinkingGroup(){return this._activeLinkingGroup.readonly()}getChartWidget(){return this.activeLinkingGroup().value().boundChartWidget()}bindToChartWidgetCollection(e){var t;null===(t=this._chartWidgetCollection)||void 0===t||t.onAboutToBeDestroyed.unsubscribeAll(this),this._unbindFromChartWidgetCollection(),this._chartWidgetCollection=e,this._chartWidgetCollection.onAboutToBeDestroyed.subscribe(this,this._unbindFromChartWidgetCollection),this._chartWidgetCollection.allLinkingGroups().subscribe(this._updateLinkingGroups),this._updateLinkingGroups(),this._activeLinkingGroupIndex=e.activeLinkingGroup().spawn(),
this._activeLinkingGroupIndex.subscribe((e=>{this._activeLinkingGroup.setValue(this._linkingGroup(e))}),{callWithLast:!0}),this._linkingGroups.forEach((t=>t.bindToChartWidgetCollection(e)))}bindToSearchCharts(e){this.unbindFromSearchCharts(),this._searchCharts=e,e.onSearchBySymbol.subscribe(this,this._onSearchBySymbol),e.loadingSymbol.subscribe((e=>{!1===e&&(this._feedBySymbolDebounceCounter=0)})),this._watchedSymbol.subscribe(this._onSymbolLinkBound)}unbindFromSearchCharts(){this._searchCharts&&(this._searchCharts.onSearchBySymbol.unsubscribe(this,this._onSearchBySymbol),this._watchedSymbol.unsubscribe(this._onSymbolLinkBound),this._searchCharts=null)}setPreventFeedBySymbol(e){this._preventFeedBySymbol=e}_onSearchBySymbol(e){if(!e.resolved_symbol)throw new Error("no resolved_symbol");this._selfEmit=!0,this._watchedSymbol.setValue(e.resolved_symbol),this._selfEmit=!1}_onSymbolLink(e){if(!this._selfEmit){if(!this._searchCharts){const e="No search charts defined";throw C.logError(e),new Error(e)}this._preventFeedBySymbol||this._loadSearchCharts(e)}}_loadSearchCharts(e){if(!this._searchCharts){const e="No search charts defined";throw C.logError(e),new Error(e)}if(this._searchChartsLoadDebounced)return void(this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced(e)));const t=e=>this._searchCharts?(!0===this._searchCharts.loadingSymbol.value()?this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced=(0,i.default)(t,2e3),this._searchChartsLoadDebounced(e)):this._searchChartsLoadDebounced=null,this._searchCharts.feedBySymbol.call(this._searchCharts,e)):()=>{};!0===this._searchCharts.loadingSymbol.value()?this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced=(0,i.default)(t,2e3),this._searchChartsLoadDebounced(e)):this._searchCharts.feedBySymbol(e)}_linkingGroup(e){w||(e=null);let t=this._linkingGroups.get(e);if(void 0===t){const o={watchedSymbol:this._watchedSymbol,seriesShortSymbol:this._seriesShortSymbol,proSymbol:this._proSymbol,watchedInterval:this._watchedInterval,watchedIntraday:this._watchedIntraday,watchedSeconds:this._watchedSeconds,watchedTicks:this._watchedTicks,watchedDataFrequencyResolution:this._watchedDataFrequencyResolution,watchedRange:this._watchedRange,watchedSupportedResolutions:this._watchedSupportedResolutions,watchedSupportedChartStyles:this._watchedSupportedChartStyles,symbolNamesList:this._symbolNamesList};t=new S(e,o,(()=>this._activeLinkingGroup.value())),this._linkingGroups.set(e,t),this._chartWidgetCollection&&t.bindToChartWidgetCollection(this._chartWidgetCollection)}return t}_unbindFromChartWidgetCollection(){var e;null!==this._chartWidgetCollection&&(null===(e=this._activeLinkingGroupIndex)||void 0===e||e.destroy(),this._activeLinkingGroupIndex=null,this._linkingGroups.forEach((e=>e.unbindFromChartWidgetCollection())),this._chartWidgetCollection.allLinkingGroups().unsubscribe(this._updateLinkingGroups),this._chartWidgetCollection=null)}}
;{const e=(0,u.getFreshInitData)().symbolInfo,t=e?e.pro_symbol:c.getValue("editchart.model.symbol",window.DEFAULT_SYMBOL);f.symbol.setValue(t)}window.TradingViewApi||(window.TradingViewApi={linking:f})},912445:(e,t,o)=>{"use strict";let i;function r(e,t){null==i||i(e,t)}function s(e){i=e}o.d(t,{muteLinkingGroup:()=>r,setMuteLinkingGroup:()=>s})},34077:e=>{e.exports={loaderContainer:"loaderContainer-UjjEDANi"}},66732:(e,t,o)=>{"use strict";o.d(t,{combine:()=>a,combineWithFilteredUpdate:()=>n});var i=o(6826),r=o.n(i);function s(e,t,...o){const i=(...t)=>e(...t.map((e=>e.value()))),s=new(r())(i(...o)),n=()=>{t(...o.map((e=>e.value())))&&s.setValue(i(...o))},a=o.map((e=>e.spawn()));for(const e of a)e.subscribe(n);return s.readonly().spawn((()=>a.forEach((e=>e.destroy()))))}function n(e,t,...o){return s(e,t,...o)}function a(e,...t){return s(e,(()=>!0),...t)}},502141:(e,t,o)=>{"use strict";o.d(t,{areEqualSymbols:()=>n,currenciesAreSame:()=>h,symbolSameAsCurrent:()=>l,unitsAreSame:()=>d});var i=o(244842),r=o(444331);const s=i.enabled("uppercase_instrument_names");function n(e,t){return void 0===e?void 0===t:void 0!==t&&(s?e.toUpperCase()===t.toUpperCase():e===t)}function a(e,t){return e.some((e=>n(t,e)))}function l(e,t){if(null===t)return!1;if(t){if(n(t.full_name,e)||n(t.pro_name,e))return!0;if(n(t.ticker,e))return!0;if(t.aliases&&a(t.aliases,e))return!0;if(t.alternatives&&a(t.alternatives,e))return!0;if(0===e.indexOf("FRA:")&&n(t.pro_name,e.replace("FRA:","FWB:")))return!0}return!1}function d(e,t,o){return null===e&&!(0,r.isConvertedToOtherUnit)(t,o)||e===(0,r.symbolUnit)(t,o)}function h(e,t){return null===e&&!(0,r.isConvertedToOtherCurrency)(t)||e===(0,r.symbolCurrency)(t)}},261642:(e,t,o)=>{"use strict";o.d(t,{initOrderDialogLoader:()=>s});var i=o(34077);let r=null;async function s(){if(r)return r;const e=document.querySelector("body"),t=document.createElement("div");e.classList.add("i-no-scroll"),t.classList.add(i.loaderContainer),e.appendChild(t);const{Spinner:s}=await Promise.all([o.e(76592),o.e(78775)]).then(o.bind(o,941285)),n=new s;return n.spin(t),r=()=>{n&&n.destroy(),t&&e.contains(t)&&e.removeChild(t),r=null},r}},971843:(e,t,o)=>{"use strict";async function i(e){(await Promise.all([o.e(47377),o.e(76213),o.e(29754),o.e(68702),o.e(23446),o.e(84139),o.e(92191),o.e(9817),o.e(22666),o.e(92108),o.e(5993),o.e(66639),o.e(34465),o.e(69121),o.e(53842),o.e(76592),o.e(88194),o.e(93502),o.e(72639),o.e(32109),o.e(36884),o.e(88548),o.e(13423),o.e(92483),o.e(87845),o.e(91033),o.e(13152),o.e(84281),o.e(48986),o.e(6209),o.e(68992),o.e(13821),o.e(55242),o.e(8740),o.e(542),o.e(27620),o.e(73628),o.e(46987),o.e(96962),o.e(47981),o.e(87689),o.e(34545),o.e(36842),o.e(73028),o.e(54690),o.e(30794),o.e(9473),o.e(29818),o.e(32366),o.e(1096),o.e(50690),o.e(10082),o.e(42292),o.e(84114),o.e(90481),o.e(33495),o.e(47380),o.e(19107),o.e(6343),o.e(61913),o.e(78703)]).then(o.bind(o,489369))).openPaymentOrderDialog(e)}o.d(t,{showPaymentOrderDialog:()=>i})},683253:(e,t,o)=>{"use strict";o.d(t,{check:()=>r});var i=o(851269);async function r(){
const{is_restricted:e}=await(0,i.getCountries)();return e}},419398:(e,t,o)=>{"use strict";o.r(t),o.d(t,{showRestrictedCountryNotificationDialog:()=>s});var i=o(777754),r=o(779923);function s(){(0,r.showWarning)({title:i.t(null,void 0,o(513111)),text:i.t(null,void 0,o(82352))})}},860037:(e,t,o)=>{"use strict";o.d(t,{showSupportDialog:()=>i});o(659863);function i(e){return Promise.all([o.e(46352),o.e(92191),o.e(22666),o.e(5993),o.e(66639),o.e(34465),o.e(69121),o.e(53842),o.e(76592),o.e(88194),o.e(93502),o.e(72639),o.e(32109),o.e(36884),o.e(13423),o.e(92483),o.e(58755),o.e(87845),o.e(36088),o.e(61298),o.e(39843),o.e(34873),o.e(73954),o.e(48986),o.e(542),o.e(90592),o.e(73628),o.e(45403),o.e(37243),o.e(34690),o.e(85295),o.e(50690),o.e(25977),o.e(23127),o.e(24951),o.e(14458),o.e(93235),o.e(53149),o.e(94899),o.e(35621),o.e(57274)]).then(o.bind(o,554165)).then((t=>new t.SupportDialog(e).open()))}},318172:(e,t,o)=>{"use strict";o.d(t,{Pro:()=>u});var i=o(120780),r=o(101090),s=o(746133),n=o(403009),a=o(707957),l=o.n(a),d=o(588948),h=o(201089);const c=(0,d.getFreshInitData)();class u{constructor(e){var t;this.packagesUpdated=new(l()),this.PRODUCT_TYPES={pro_plan:1,exchange:4,connection:6,coins:8},this._products={},this._invalidShopConf=!1,this._freeProductIds=["tv-scripting","tv-basicstudies","tv-prostudies","Script$USER","Script$EDGR","ESD$TV"],this._discounts={},this._offers=[],this._logger=(0,h.getLogger)("Pro"),e&&(this._offers=null!==(t=e.offers)&&void 0!==t?t:[],this._invalidShopConf=!0,"undefined"!=typeof window&&window.loginStateChange.subscribe(this,this.onLoginStateChange))}isDiscountProductId(e){return e in this._discounts}hasPackage(e){return this._offers.includes(e)||this._freeProductIds.includes(e)}async updateShopConf(e=!1){return void 0!==this._shopConfPromise||(this._shopConfPromise=(0,i.fetch)("/market/shopconf/",{credentials:"include"}).then((async t=>{const o=await t.json();return this._products=o.all_products&&JSON.parse(o.all_products)||{},this._discounts=o.discounts&&JSON.parse(o.discounts)||{},this._offers=o.offers&&JSON.parse(o.offers)||[],this._invalidShopConf=!1,delete this._shopConfPromise,e||this.packagesUpdated.fire(),o})).catch((()=>{throw this._logger.logError("Update shopconf error"),delete this._shopConfPromise,Error("Update shopconf error")}))),this._shopConfPromise}invalidateShopConf(){this._invalidShopConf=!0}isInvalidShopConf(){return!!this._invalidShopConf}ensureValidShopConf(){return new Promise((e=>this.runOrUpdate(e)))}onLoginStateChange(e){e||this.updateShopConf()}runOrUpdate(e,t){this.isInvalidShopConf()?this.updateShopConf(t).then(e):e()}getIDCExchanges(e){const t=this._products;if(c)if(e){if(c.idc_delay_exchanges_list)return c.idc_delay_exchanges_list}else if(c.idc_exchanges_list)return c.idc_exchanges_list;return Object.keys(t).filter((o=>{const i=t[o];return!!(0,n.isExchange)(i)&&(e?i.idc_service_codes_delay:i.idc_service_codes)})).map((e=>t[e].exchange))}getProduct(e){if(e in this._products)return this._products[e];if(this.isDiscountProductId(e)){const t=this._discounts[e],o={
discount_text_id:e,...this._products[t.product]};return void 0!==t.fixed_cost&&(o.fixed_cost=t.fixed_cost),void 0!==t.extra_days&&(o.extra_days=t.extra_days),void 0!==t.billing_cycle&&(o.billing_cycle=t.billing_cycle),o}return{}}async findProduct(e){if(this.isInvalidShopConf())try{await this.updateShopConf()}catch(e){}return this.getProduct(e)}getDiscountProduct(e){var t;return null!==(t=this._discounts[e])&&void 0!==t?t:{}}isOffer(e,t){return Object.keys(this._discounts).filter((e=>!this._discounts[e].expired&&this._discounts[e].offer_type===t)).includes(e)}getUserExchanges(){var e;const t=null===(e=window.pro)||void 0===e?void 0:e.offers();return t?t.map((e=>this.getProduct(e))).filter((e=>(0,n.isExchange)(e))):[]}getExchange(e){const t=this.getProductsByType(n.ProductType.Exchange);let o;for(let i=0;i<t.length;i+=1)if(o=t[i],o.exchange===e||o.included_exchanges&&o.included_exchanges.includes(e))return o;return{}}getProductsByType(e){return Object.keys(this._products).filter((t=>this._products[t].type===e)).map((e=>this.getProduct(e)))}getProPlans(){return this.getProductsByType(n.ProductType.ProPlan).map((e=>e.text_id))}isPro(){return(0,n.isPro)(window.user)}getSuperProduct(e){}getStudiesOrder(){return[]}userHasRealtimeForExchange(e){const t=(null!=e?e:"").toLowerCase().replace("exchange-",""),o=this.getExchange(t);if(!(0,n.isProductDefined)(o))return!1;if(this._offers.includes("exchange-"+o.exchange))return!0;if(o.included_exchanges)for(let e=0;e<o.included_exchanges.length;e+=1)if(this._offers.includes("exchange-"+o.included_exchanges[e]))return!0;return!1}hasRealtimeForExchange(e,t){const o=this.getProductsByType(n.ProductType.Exchange),i=(null!=e?e:"").toLowerCase();for(let e=0;e<o.length;e+=1){const r=o[e];if(r.exchange===i||(r.included_exchanges||[]).includes(i)){if(r.disabled&&!r.included_exchanges)return!1;if(!t)return!0;if(r.included_exchanges){let e;for(let o=0;o<r.included_exchanges.length;o+=1){const i=this.getProduct("exchange-"+r.included_exchanges[o]);if((0,n.isProductDefined)(i)&&(0,n.isExchange)(i)&&this._exHasRealtimeForType(i,t)){e=!0;break}}if(!e)return!1}else if(!this._exHasRealtimeForType(r,t))return!1;return!0}}return!1}visitExchangesPage(e={}){var t;let o=s.BillingCycle.Monthly,i=!0;const n=window.user;n.is_trial||(o=null!==(t=n.pro_plan_billing_cycle)&&void 0!==t?t:s.BillingCycle.OneYear,i=!1),(0,r.visitPaymentPage)(o,{exchangesOnly:!0,paymentMethod:e.paymentMethod,fixedCycle:i,selectedPackages:e.selectedPackages})}offers(){return this._offers}isSupportAvailable(){return Boolean(c.is_support_available)}discounts(){return this._discounts}hash(){const e=this._offers.slice(0);e.sort();const t={offers:e};return JSON.stringify(t)}_exHasRealtimeForType(e,t){return!("stock"===t&&!e.is_stocks)&&(!("index"===t&&!e.is_indices)&&!("futures"===t&&!e.is_futures))}}"undefined"!=typeof window&&window.TradingView&&(window.TradingView.Pro=u)},101090:(e,t,o)=>{"use strict";o.d(t,{visitPaymentPage:()=>h});var i=o(777754),r=o(971843),s=o(746133),n=o(273675),a=o(683253),l=o(419398),d=o(261642)
;function h(e="y",t={}){var h;const c=null!==(h=t.productName)&&void 0!==h?h:"pro",u="bitcoin"===(t.paymentMethod||"paypal")?"Bitcoin payment":"Paypal payment",p=(0,d.initOrderDialogLoader)();window.runOrSignIn((async()=>{await(0,a.check)()?(0,l.showRestrictedCountryNotificationDialog)():"function"!=typeof t.canVisit||t.canVisit()?(0,r.showPaymentOrderDialog)({productId:t.productName,billingCycle:t.exchangesOnly?s.BillingCycle.Monthly:e,fixedCycle:t.fixedCycle,statusExtraData:t.exchangesExpanded?n.StatusExtraData.Opened:void 0,exchanges:t.selectedPackages}).then((async()=>{(await p)()})):t.reloadIfCantVisit?location.reload():location.href="/"}),{source:u,paidAccountCheck:window.pro&&window.pro.getProduct(c).type===window.pro.PRODUCT_TYPES.pro_plan,paidAccountSuccessButtonText:i.t(null,void 0,o(976111))})}},746518:e=>{"use strict"
;e.exports=JSON.parse('{"content":{"chartProperties":{"scalesProperties":{"textColor":"#B2B5BE","lineColor":"rgba(240, 243, 250, 0)","backgroundColor":"#ffffff"},"paneProperties":{"vertGridProperties":{"color":"rgba(240, 243, 250, 0.06)"},"horzGridProperties":{"color":"rgba(240, 243, 250, 0.06)"},"crossHairProperties":{"color":"#9598A1"},"background":"#131722","backgroundGradientStartColor":"#181C27","backgroundGradientEndColor":"#131722","backgroundType":"gradient","separatorColor":"#2A2E39"}},"sessions":{"graphics":{"backgrounds":{"outOfSession":{"color":"#2962FF","transparency":92},"preMarket":{"color":"#FF9800","transparency":92},"postMarket":{"color":"#2962FF","transparency":92}},"vertlines":{"sessBreaks":{"color":"#4985e7","style":2,"width":1}}}},"mainSourceProperties":{"baseLineColor":"#5d606b","candleStyle":{"borderColor":"#378658","upColor":"#089981","wickColor":"#B5B5B8","wickUpColor":"#089981","wickDownColor":"#F23645","downColor":"#F23645","borderUpColor":"#089981","borderDownColor":"#F23645"},"haStyle":{"borderColor":"#378658","upColor":"#089981","wickColor":"#B5B5B8","wickUpColor":"#089981","wickDownColor":"#F23645","downColor":"#F23645","borderUpColor":"#089981","borderDownColor":"#F23645"},"barStyle":{"downColor":"#F23645","upColor":"#089981"},"pnfStyle":{"downColor":"#F23645","upColor":"#089981","upColorProjection":"#336854","downColorProjection":"#7f323f"},"baselineStyle":{"baselineColor":"#758696","topFillColor1":"rgba(8, 153, 129, 0.28)","topFillColor2":"rgba(8, 153, 129, 0.05)","bottomFillColor1":"rgba(242, 54, 69, 0.05)","bottomFillColor2":"rgba(242, 54, 69, 0.28)","topLineColor":"#089981","bottomLineColor":"#F23645"},"areaStyle":{"transparency":100,"color1":"rgba(41, 98, 255, 0.28)","color2":"#2962FF","linecolor":"#2962FF","linewidth":2,"linestyle":0},"hiloStyle":{"color":"#2962FF","borderColor":"#2962FF","labelColor":"#2962FF"},"columnStyle":{"upColor":"rgba(8, 153, 129, 0.5)","downColor":"rgba(242, 54, 69, 0.5)","priceSource":"close"},"renkoStyle":{"upColor":"#089981","downColor":"#F23645","borderUpColor":"#089981","borderDownColor":"#F23645","upColorProjection":"#336854","downColorProjection":"#7f323f","borderUpColorProjection":"#336854","borderDownColorProjection":"#7f323f","wickUpColor":"#089981","wickDownColor":"#F23645"},"lineStyle":{"color":"#2962FF","linewidth":2,"linestyle":0},"lineWithMarkersStyle":{"color":"#2962FF","linewidth":2,"linestyle":0},"steplineStyle":{"color":"#2962FF","linewidth":2,"linestyle":0},"kagiStyle":{"downColor":"#F23645","upColor":"#089981","upColorProjection":"#336854","downColorProjection":"#7f323f"},"pbStyle":{"upColor":"#089981","downColor":"#F23645","borderUpColor":"#089981","borderDownColor":"#F23645","upColorProjection":"#336854","downColorProjection":"#7f323f","borderUpColorProjection":"#336854","borderDownColorProjection":"#7f323f"},"rangeStyle":{"upColor":"#089981","downColor":"#F23645","upColorProjection":"#336854","downColorProjection":"#7f323f"}}}}')},979706:e=>{"use strict"
;e.exports=JSON.parse('{"content":{"chartProperties":{"scalesProperties":{"textColor":"#131722","lineColor":"rgba(42, 46, 57, 0)","backgroundColor":"#ffffff"},"paneProperties":{"vertGridProperties":{"color":"rgba(42, 46, 57, 0.06)"},"horzGridProperties":{"color":"rgba(42, 46, 57, 0.06)"},"crossHairProperties":{"color":"#9598A1"},"background":"#ffffff","backgroundGradientStartColor":"#ffffff","backgroundGradientEndColor":"#ffffff","separatorColor":"#E0E3EB"}},"sessions":{"graphics":{"backgrounds":{"outOfSession":{"color":"#2962FF","transparency":92},"preMarket":{"color":"#FF9800","transparency":92},"postMarket":{"color":"#2962FF","transparency":92}},"vertlines":{"sessBreaks":{"color":"#4985e7","style":2,"width":1}}}},"mainSourceProperties":{"baseLineColor":"#B2B5BE","candleStyle":{"borderColor":"#378658","upColor":"#089981","wickColor":"#737375","wickUpColor":"#089981","wickDownColor":"#F23645","downColor":"#F23645","borderUpColor":"#089981","borderDownColor":"#F23645"},"haStyle":{"borderColor":"#378658","upColor":"#089981","wickColor":"#737375","wickUpColor":"#089981","wickDownColor":"#F23645","downColor":"#F23645","borderUpColor":"#089981","borderDownColor":"#F23645"},"barStyle":{"downColor":"#F23645","upColor":"#089981"},"pnfStyle":{"downColor":"#F23645","upColor":"#089981","upColorProjection":"#a9dcc3","downColorProjection":"#f5a6ae"},"baselineStyle":{"baselineColor":"#758696","topFillColor1":"rgba(8, 153, 129, 0.28)","topFillColor2":"rgba(8, 153, 129, 0.05)","bottomFillColor1":"rgba(242, 54, 69, 0.05)","bottomFillColor2":"rgba(242, 54, 69, 0.28)","topLineColor":"#089981","bottomLineColor":"#F23645"},"areaStyle":{"transparency":100,"color1":"rgba(41, 98, 255, 0.28)","color2":"#2962FF","linecolor":"#2962FF","linewidth":2,"linestyle":0},"hiloStyle":{"color":"#2962FF","borderColor":"#2962FF","labelColor":"#2962FF"},"columnStyle":{"upColor":"rgba(8, 153, 129, 0.5)","downColor":"rgba(242, 54, 69, 0.5)","priceSource":"close"},"renkoStyle":{"upColor":"#089981","downColor":"#F23645","borderUpColor":"#089981","borderDownColor":"#F23645","upColorProjection":"#a9dcc3","downColorProjection":"#f5a6ae","borderUpColorProjection":"#a9dcc3","borderDownColorProjection":"#f5a6ae","wickUpColor":"#089981","wickDownColor":"#F23645"},"lineStyle":{"color":"#2962FF","linewidth":2,"linestyle":0},"lineWithMarkersStyle":{"color":"#2962FF","linewidth":2,"linestyle":0},"steplineStyle":{"color":"#2962FF","linewidth":2,"linestyle":0},"kagiStyle":{"downColor":"#F23645","upColor":"#089981","upColorProjection":"#a9dcc3","downColorProjection":"#f5a6ae"},"pbStyle":{"upColor":"#089981","downColor":"#F23645","borderUpColor":"#089981","borderDownColor":"#F23645","upColorProjection":"#a9dcc3","downColorProjection":"#f5a6ae","borderUpColorProjection":"#a9dcc3","borderDownColorProjection":"#f5a6ae"},"rangeStyle":{"upColor":"#089981","downColor":"#F23645","upColorProjection":"#a9dcc3","downColorProjection":"#f5a6ae"}}}}')}}]);