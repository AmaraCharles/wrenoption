(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[18550,94291,59255,28557],{159255:(t,e,s)=>{"use strict";s.d(e,{default:()=>E});var i=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var s=-1;return t.some((function(t,i){return t[0]===e&&(s=i,!0)})),s}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var s=t(this.__entries__,e),i=this.__entries__[s];return i&&i[1]},e.prototype.set=function(e,s){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=s:this.__entries__.push([e,s])},e.prototype.delete=function(e){var s=this.__entries__,i=t(s,e);~i&&s.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var s=0,i=this.__entries__;s<i.length;s++){var o=i[s];t.call(e,o[1],o[0])}},e}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,n=void 0!==s.g&&s.g.Math===Math?s.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,h=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var s=!1,i=!1,o=0;function n(){s&&(s=!1,t()),i&&l()}function a(){r(n)}function l(){var t=Date.now();if(s){if(t-o<2)return;i=!0}else s=!0,i=!1,setTimeout(a,e);o=t}return l}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,s=e.indexOf(t);~s&&e.splice(s,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),
window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,s=void 0===e?"":e;a.some((function(t){return!!~s.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var s=0,i=Object.keys(e);s<i.length;s++){var o=i[s];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||n},p=b(0,0,0,0);function u(t){return parseFloat(t)||0}function g(t){for(var e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];return e.reduce((function(e,s){return e+u(t["border-"+s+"-width"])}),0)}function m(t){var e=t.clientWidth,s=t.clientHeight;if(!e&&!s)return p;var i=d(t).getComputedStyle(t),o=function(t){for(var e={},s=0,i=["top","right","bottom","left"];s<i.length;s++){var o=i[s],n=t["padding-"+o];e[o]=u(n)}return e}(i),n=o.left+o.right,r=o.top+o.bottom,a=u(i.width),l=u(i.height);if("border-box"===i.boxSizing&&(Math.round(a+n)!==e&&(a-=g(i,"left","right")+n),Math.round(l+r)!==s&&(l-=g(i,"top","bottom")+r)),!function(t){return t===d(t).document.documentElement}(t)){var h=Math.round(a+n)-e,c=Math.round(l+r)-s;1!==Math.abs(h)&&(a-=h),1!==Math.abs(c)&&(l-=c)}return b(o.left,o.top,a,l)}var _="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"==typeof t.getBBox};function f(t){return o?_(t)?function(t){var e=t.getBBox();return b(0,0,e.width,e.height)}(t):m(t):p}function b(t,e,s,i){return{x:t,y:e,width:s,height:i}}var v=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=f(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),w=function(t,e){var s,i,o,n,r,a,l,h=(i=(s=e).x,o=s.y,n=s.width,r=s.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),c(l,{x:i,y:o,width:n,height:r,top:o,right:i+n,bottom:r+o,left:i}),l);c(this,{target:t,contentRect:h})},y=function(){function t(t,e,s){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=s}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){
if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new w(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),C="undefined"!=typeof WeakMap?new WeakMap:new i,S=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var s=h.getInstance(),i=new y(e,s,this);C.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){S.prototype[t]=function(){var e;return(e=C.get(this))[t].apply(e,arguments)}}));const E=void 0!==n.ResizeObserver?n.ResizeObserver:S},166613:t=>{t.exports={container:"container-uzBKh7Dy",top:"top-uzBKh7Dy"}},123059:t=>{t.exports={wrap:"wrap-Un5MtNUE",list:"list-Un5MtNUE",item:"item-Un5MtNUE",selected:"selected-Un5MtNUE",bluishItem:"bluishItem-Un5MtNUE",noPadding:"noPadding-Un5MtNUE"}},546556:t=>{t.exports={list:"list-Wz79nL5X list-oxiBYNWm"}},817931:t=>{t.exports={wrap:"wrap-zvBvzNnS",disabled:"disabled-zvBvzNnS",button:"button-zvBvzNnS",title:"title-zvBvzNnS",dropdownWithFlagList:"dropdownWithFlagList-zvBvzNnS",item:"item-zvBvzNnS",selected:"selected-zvBvzNnS",caret:"caret-zvBvzNnS"}},782536:t=>{t.exports={list:"list-oxiBYNWm",item:"item-oxiBYNWm"}},249346:t=>{t.exports={}},116144:t=>{t.exports={}},989897:t=>{t.exports={}},901574:t=>{t.exports={}},285778:t=>{t.exports={wrapper:"wrapper-PQ5O_1M7",touch:"touch-PQ5O_1M7"}},165719:t=>{t.exports={}},934587:t=>{t.exports={icon:"icon-WB2y0EnP",dropped:"dropped-WB2y0EnP"}},267521:(t,e,s)=>{"use strict";s.d(e,{useFunctionalRefObject:()=>n});var i=s(50959),o=s(774218);function n(t){const e=(0,i.useMemo)((()=>function(t){const e=s=>{t(s),e.current=s};return e.current=null,e}((t=>{a.current(t)}))),[]),s=(0,i.useRef)(null),n=e=>{if(null===e)return r(s.current,e),void(s.current=null);s.current!==t&&(s.current=t,r(s.current,e))},a=(0,i.useRef)(n);return a.current=n,(0,o.useIsomorphicLayoutEffect)((()=>{
if(null!==e.current)return a.current(e.current),()=>a.current(null)}),[t]),e}function r(t,e){null!==t&&("function"==typeof t?t(e):t.current=e)}},774218:(t,e,s)=>{"use strict";s.d(e,{useIsomorphicLayoutEffect:()=>o});var i=s(50959);function o(t,e){("undefined"==typeof window?i.useEffect:i.useLayoutEffect)(t,e)}},940194:(t,e,s)=>{"use strict";function i(t,e,s,i,o){function n(o){if(t>o.timeStamp)return;const n=o.target;void 0!==s&&null!==e&&null!==n&&n.ownerDocument===i&&(e.contains(n)||s(o))}return o.click&&i.addEventListener("click",n,!1),o.mouseDown&&i.addEventListener("mousedown",n,!1),o.touchEnd&&i.addEventListener("touchend",n,!1),o.touchStart&&i.addEventListener("touchstart",n,!1),()=>{i.removeEventListener("click",n,!1),i.removeEventListener("mousedown",n,!1),i.removeEventListener("touchend",n,!1),i.removeEventListener("touchstart",n,!1)}}s.d(e,{addOutsideEventListener:()=>i})},385806:(t,e,s)=>{"use strict";s.d(e,{useOutsideEvent:()=>n});var i=s(50959),o=s(940194);function n(t){const{click:e,mouseDown:s,touchEnd:n,touchStart:r,handler:a,reference:l,ownerDocument:h=document}=t,c=(0,i.useRef)(null),d=(0,i.useRef)(new CustomEvent("timestamp").timeStamp);return(0,i.useLayoutEffect)((()=>{const t={click:e,mouseDown:s,touchEnd:n,touchStart:r},i=l?l.current:c.current;return(0,o.addOutsideEventListener)(d.current,i,a,h,t)}),[e,s,n,r,a]),l||c}},444530:(t,e,s)=>{"use strict";s.d(e,{useResizeObserver:()=>a});var i=s(50959),o=s(159255),n=s(774218),r=s(267521);function a(t,e=[]){const{callback:s,ref:a=null}=function(t){return"function"==typeof t?{callback:t}:t}(t),l=(0,i.useRef)(null),h=(0,i.useRef)(s);h.current=s;const c=(0,r.useFunctionalRefObject)(a),d=(0,i.useCallback)((t=>{c(t),null!==l.current&&(l.current.disconnect(),null!==t&&l.current.observe(t))}),[c,l]);return(0,n.useIsomorphicLayoutEffect)((()=>(l.current=new o.default(((t,e)=>{h.current(t,e)})),c.current&&d(c.current),()=>{var t;null===(t=l.current)||void 0===t||t.disconnect()})),[c,...e]),d}},83436:(t,e,s)=>{"use strict";s.d(e,{Icon:()=>o});var i=s(50959);const o=i.forwardRef(((t,e)=>{const{icon:s="",...o}=t;return i.createElement("span",{...o,ref:e,dangerouslySetInnerHTML:{__html:s}})}))},692822:(t,e,s)=>{"use strict";s.d(e,{Slot:()=>o,SlotContext:()=>n});var i=s(50959);class o extends i.Component{shouldComponentUpdate(){return!1}render(){return i.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const n=i.createContext(null)},746326:(t,e,s)=>{"use strict";function i(t){const{paddingTop:e,paddingBottom:s}=window.getComputedStyle(t);return[e,s].reduce(((t,e)=>t-Number((e||"").replace("px",""))),t.clientHeight)}function o(t,e=!1){const s=getComputedStyle(t),i=[s.height];return"border-box"!==s.boxSizing&&i.push(s.paddingTop,s.paddingBottom,s.borderTopWidth,s.borderBottomWidth),e&&i.push(s.marginTop,s.marginBottom),i.reduce(((t,e)=>t+(parseFloat(e)||0)),0)}function n(t,e=!1){const s=getComputedStyle(t),i=[s.width]
;return"border-box"!==s.boxSizing&&i.push(s.paddingLeft,s.paddingRight,s.borderLeftWidth,s.borderRightWidth),e&&i.push(s.marginLeft,s.marginRight),i.reduce(((t,e)=>t+(parseFloat(e)||0)),0)}s.d(e,{contentHeight:()=>i,outerHeight:()=>o,outerWidth:()=>n})},551080:(t,e,s)=>{"use strict";function i(t){return e=>{t.forEach((t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)}))}}function o(t){return i([t])}s.d(e,{isomorphicRef:()=>o,mergeRefs:()=>i})},58407:(t,e,s)=>{"use strict";s.d(e,{OutsideEvent:()=>o});var i=s(385806);function o(t){const{children:e,...s}=t;return e((0,i.useOutsideEvent)(s))}},351290:(t,e,s)=>{"use strict";s.d(e,{OverlapManager:()=>n,getRootOverlapManager:()=>a});var i=s(650151);class o{constructor(){this._storage=[]}add(t){this._storage.push(t)}remove(t){this._storage=this._storage.filter((e=>t!==e))}has(t){return this._storage.includes(t)}getItems(){return this._storage}}class n{constructor(t=document){this._storage=new o,this._windows=new Map,this._index=0,this._document=t,this._container=t.createDocumentFragment()}setContainer(t){const e=this._container,s=null===t?this._document.createDocumentFragment():t;!function(t,e){Array.from(t.childNodes).forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&e.appendChild(t)}))}(e,s),this._container=s}registerWindow(t){this._storage.has(t)||this._storage.add(t)}ensureWindow(t,e={position:"fixed",direction:"normal"}){const s=this._windows.get(t);if(void 0!==s)return s;this.registerWindow(t);const i=this._document.createElement("div");if(i.style.position=e.position,i.style.zIndex=this._index.toString(),i.dataset.id=t,void 0!==e.index){const t=this._container.childNodes.length;if(e.index>=t)this._container.appendChild(i);else if(e.index<=0)this._container.insertBefore(i,this._container.firstChild);else{const t=this._container.childNodes[e.index];this._container.insertBefore(i,t)}}else"reverse"===e.direction?this._container.insertBefore(i,this._container.firstChild):this._container.appendChild(i);return this._windows.set(t,i),++this._index,i}unregisterWindow(t){this._storage.remove(t);const e=this._windows.get(t);void 0!==e&&(null!==e.parentElement&&e.parentElement.removeChild(e),this._windows.delete(t))}getZindex(t){const e=this.ensureWindow(t);return parseInt(e.style.zIndex||"0")}moveToTop(t){if(this.getZindex(t)!==this._index){this.ensureWindow(t).style.zIndex=(++this._index).toString()}}removeWindow(t){this.unregisterWindow(t)}}const r=new WeakMap;function a(t=document){const e=t.getElementById("overlap-manager-root");if(null!==e)return(0,i.ensureDefined)(r.get(e));{const e=new n(t),s=function(t){const e=t.createElement("div");return e.style.position="absolute",e.style.zIndex=150..toString(),e.style.top="0px",e.style.left="0px",e.id="overlap-manager-root",e}(t);return r.set(s,e),e.setContainer(s),t.body.appendChild(s),e}}},778785:(t,e,s)=>{"use strict";s.d(e,{mobiletouch:()=>o,setClasses:()=>r,touch:()=>n});var i=s(167175);const o=i.mobiletouch,n=i.touch;function r(){
document.documentElement.classList.add(i.touch?"feature-touch":"feature-no-touch",i.mobiletouch?"feature-mobiletouch":"feature-no-mobiletouch")}},461909:(t,e,s)=>{"use strict";function i(t){if(void 0===t)return null;const e=t.match(/(delayed_streaming)_([\d]{1,4})/);return null===e?null:{mode:e[1],interval:parseInt(e[2])}}function o(t){const e=i(t.update_mode);return null===e||(t.update_mode=e.mode,t.update_mode_seconds=e.interval),t}s.r(e),s.d(e,{normalizeUpdateMode:()=>o,parseUpdateMode:()=>i})},368337:(t,e,s)=>{"use strict";s.d(e,{makeOverlapable:()=>n});var i=s(50959),o=s(707533);function n(t){return class extends i.PureComponent{render(){const{isOpened:e,root:s}=this.props;if(!e)return null;const n=i.createElement(t,{...this.props,zIndex:150});return"parent"===s?n:i.createElement(o.Portal,null,n)}}}},707533:(t,e,s)=>{"use strict";s.d(e,{Portal:()=>l,PortalContext:()=>h});var i=s(50959),o=s(500962),n=s(541558),r=s(351290),a=s(670797);class l extends i.PureComponent{constructor(){super(...arguments),this._uuid=(0,n.guid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const t=this._manager().ensureWindow(this._uuid,this.props.layerOptions);return t.style.top=this.props.top||"",t.style.bottom=this.props.bottom||"",t.style.left=this.props.left||"",t.style.right=this.props.right||"",t.style.pointerEvents=this.props.pointerEvents||"",o.createPortal(i.createElement(h.Provider,{value:this},this.props.children),t)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,r.getRootOverlapManager)():this.context}}l.contextType=a.SlotContext;const h=i.createContext(null)},670797:(t,e,s)=>{"use strict";s.d(e,{Slot:()=>i.Slot,SlotContext:()=>i.SlotContext});var i=s(692822)},416293:(t,e,s)=>{"use strict";s.d(e,{ToolWidgetCaret:()=>l});var i=s(50959),o=s(497754),n=s(83436),r=s(934587),a=s(100578);function l(t){const{dropped:e,className:s}=t;return i.createElement(n.Icon,{className:o(s,r.icon,{[r.dropped]:e}),icon:a})}},500962:(t,e,s)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=s(650690)},695257:(t,e)=>{"use strict";var s=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),u=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,_={};function f(t,e,s){this.props=t,this.context=e,this.refs=_,this.updater=s||g}function b(){}function v(t,e,s){this.props=t,this.context=e,this.refs=_,this.updater=s||g}f.prototype.isReactComponent={},f.prototype.setState=function(t,e){
if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},f.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=f.prototype;var w=v.prototype=new b;w.constructor=v,m(w,f.prototype),w.isPureReactComponent=!0;var y=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,i){var o,n={},r=null,a=null;if(null!=e)for(o in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(r=""+e.key),e)C.call(e,o)&&!E.hasOwnProperty(o)&&(n[o]=e[o]);var l=arguments.length-2;if(1===l)n.children=i;else if(1<l){for(var h=Array(l),c=0;c<l;c++)h[c]=arguments[c+2];n.children=h}if(t&&t.defaultProps)for(o in l=t.defaultProps)void 0===n[o]&&(n[o]=l[o]);return{$$typeof:s,type:t,key:r,ref:a,props:n,_owner:S.current}}function T(t){return"object"==typeof t&&null!==t&&t.$$typeof===s}var x=/\/+/g;function L(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function N(t,e,o,n,r){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case s:case i:l=!0}}if(l)return r=r(l=t),t=""===n?"."+L(l,0):n,y(r)?(o="",null!=t&&(o=t.replace(x,"$&/")+"/"),N(r,e,o,"",(function(t){return t}))):null!=r&&(T(r)&&(r=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(r,o+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(x,"$&/")+"/")+t)),e.push(r)),1;if(l=0,n=""===n?".":n+":",y(t))for(var h=0;h<t.length;h++){var c=n+L(a=t[h],h);l+=N(a,e,o,c,r)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=u&&t[u]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),h=0;!(a=t.next()).done;)l+=N(a=a.value,e,o,c=n+L(a,h++),r);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function P(t,e,s){if(null==t)return t;var i=[],o=0;return N(t,i,"","",(function(t){return e.call(s,t,o++)})),i}function M(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D={current:null},O={transition:null},B={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};e.Children={map:P,forEach:function(t,e,s){P(t,(function(){e.apply(this,arguments)}),s)},count:function(t){var e=0;return P(t,(function(){e++})),e},toArray:function(t){return P(t,(function(t){return t
}))||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=f,e.Fragment=o,e.Profiler=r,e.PureComponent=v,e.StrictMode=n,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,e.cloneElement=function(t,e,i){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=m({},t.props),n=t.key,r=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(r=e.ref,a=S.current),void 0!==e.key&&(n=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)C.call(e,h)&&!E.hasOwnProperty(h)&&(o[h]=void 0===e[h]&&void 0!==l?l[h]:e[h])}var h=arguments.length-2;if(1===h)o.children=i;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:s,type:t.type,key:n,ref:r,props:o,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:p,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=O.transition;O.transition={};try{t()}finally{O.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return D.current.useCallback(t,e)},e.useContext=function(t){return D.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return D.current.useDeferredValue(t)},e.useEffect=function(t,e){return D.current.useEffect(t,e)},e.useId=function(){return D.current.useId()},e.useImperativeHandle=function(t,e,s){return D.current.useImperativeHandle(t,e,s)},e.useInsertionEffect=function(t,e){return D.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return D.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return D.current.useMemo(t,e)},e.useReducer=function(t,e,s){return D.current.useReducer(t,e,s)},e.useRef=function(t){return D.current.useRef(t)},e.useState=function(t){return D.current.useState(t)},e.useSyncExternalStore=function(t,e,s){return D.current.useSyncExternalStore(t,e,s)},e.useTransition=function(){return D.current.useTransition()},e.version="18.2.0"},50959:(t,e,s)=>{"use strict";t.exports=s(695257)},376111:(t,e,s)=>{"use strict";var i=s(823127),o=s(778785).mobiletouch;!function(t,e,s){function i(i,o){o=o||i+s;var n=t(),r=i+"."+o+"-special-event";function a(e){t(n).each((function(){var s=t(this);this===e.target||s.has(e.target).length||s.triggerHandler(o,[e.target])}))}t.event.special[o]={setup:function(){delete(n=n.add(this)).prevObject,1===n.length&&t(e).bind(r,a)},teardown:function(){delete(n=n.not(this)).prevObject,
0===n.length&&t(e).unbind(r)},add:function(t){var e=t.handler;t.handler=function(t,s){t.target=s,e.apply(this,arguments)}}}}t.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),(function(t){i(t)})),i("focusin","focusoutside"),i("focusout","bluroutside"),o&&(i("touchstart","mousedownoutside"),i("touchmove","mousemoveoutside"),i("touchend","mouseupoutside")),t.addOutsideEvent=i}(i,document,"outside")},396224:(t,e,s)=>{"use strict";s(318293);var i=s(650151),o=(s(730128),s(376111),s(249346),s(79338)),n=s(778785),r=s(707957),a=s(746326);function l(t){if(!t.getClientRects().length)return{top:0,left:0};const e=t.getBoundingClientRect(),s=(0,i.ensureNotNull)(t.ownerDocument.defaultView);return{top:e.top+s.pageYOffset,left:e.left+s.pageXOffset}}function h(t){const e=getComputedStyle(t);let s,i={top:0,left:0};if("fixed"===e.position)s=t.getBoundingClientRect();else{s=l(t);const e=t.ownerDocument;let o=t.offsetParent||e.documentElement;for(;o&&(o===e.body||o===e.documentElement)&&"static"===getComputedStyle(o).position;)o=o.parentElement;o&&o!==t&&1===o.nodeType&&(i=l(o),i.top+=parseFloat(getComputedStyle(o).borderTopWidth),i.left+=parseFloat(getComputedStyle(o).borderLeftWidth))}return{top:s.top-i.top-parseFloat(e.marginTop),left:s.left-i.left-parseFloat(e.marginLeft)}}var c=s(81979);const d={from:0,duration:250,easing:c.easingFunc.easeOutCubic};class p{constructor(t){this._doing=!0,this._completed=!1,this._options={...d,...t};const e=performance.now();window.requestAnimationFrame((t=>{this._animation(e,this._options.from,t)}))}stop(){this._doing=!1}completed(){return this._completed}_animation(t,e,s){if(!this._doing)return void this._finishAnimation();const i=(s=!s||s<1e12?performance.now():s)-t,o=i>=this._options.duration||e===this._options.to,n=(r=this._options.from,a=this._options.to,l=this._options.easing(i/this._options.duration),r*(1-l)+a*l);var r,a,l;const h=o?this._options.to:n,c=h-e;this._options.onStep(c,h),o?this._finishAnimation():window.requestAnimationFrame((e=>{this._animation(t,h,e)}))}_finishAnimation(){this._options.onComplete&&this._options.onComplete(),this._completed=!0}}var u=s(638456);s(165719);class g{constructor(t){var e,s;this._helper=null,this._handleDragStart=t=>{var e;if(null!==this._helper)return;const s=this._source;s.classList.add("ui-draggable-dragging");const[i,o]=[(0,a.outerWidth)(s),(0,a.outerHeight)(s)];this._helper={startTop:parseFloat(s.style.top)||0,startLeft:parseFloat(s.style.left)||0,nextTop:null,nextLeft:null,raf:null,size:[i,o],
containment:this._containment instanceof HTMLElement?[parseInt(getComputedStyle(this._containment).borderLeftWidth)+parseInt(getComputedStyle(this._containment).paddingLeft),parseInt(getComputedStyle(this._containment).borderTopWidth)+parseInt(getComputedStyle(this._containment).paddingTop),this._containment.offsetWidth-parseInt(getComputedStyle(this._containment).borderRightWidth)-parseInt(getComputedStyle(this._containment).paddingRight)-parseInt(getComputedStyle(s).marginLeft)-parseInt(getComputedStyle(s).marginRight)-i,this._containment.offsetHeight-parseInt(getComputedStyle(this._containment).borderBottomWidth)-parseInt(getComputedStyle(this._containment).paddingBottom)-parseInt(getComputedStyle(s).marginTop)-parseInt(getComputedStyle(s).marginBottom)-o]:"window"===this._containment?[window.scrollX,window.scrollY,window.scrollX+document.documentElement.offsetWidth-i,window.scrollY+document.documentElement.offsetHeight-o]:null},null===(e=this._start)||void 0===e||e.call(this)},this._handleDragMove=t=>{var e;if(null===this._helper)return;const{current:s,initial:i}=t.detail,o=this._source,n=this._helper.nextTop,r=this._helper.nextLeft,a="y"===this._axis||!1===this._axis||0!==s.movementY;if(a){const t=this._helper.startTop;isFinite(t)&&(this._helper.nextTop=s.clientY-i.clientY+t)}const l="x"===this._axis||!1===this._axis||0!==s.movementY;if(l){const t=this._helper.startLeft;isFinite(t)&&(this._helper.nextLeft=s.clientX-i.clientX+t)}if(null!==this._helper.containment){const[t,e,s,i]=this._helper.containment;a&&this._helper.nextTop&&(this._helper.nextTop=Math.min(this._helper.nextTop,i),this._helper.nextTop=Math.max(this._helper.nextTop,e)),l&&this._helper.nextLeft&&(this._helper.nextLeft=Math.min(this._helper.nextLeft,s),this._helper.nextLeft=Math.max(this._helper.nextLeft,t))}null!==this._helper.raf||n===this._helper.nextTop&&r===this._helper.nextLeft||(this._helper.raf=requestAnimationFrame((()=>{null!==this._helper&&(null!==this._helper.nextTop&&(o.style.top=this._helper.nextTop+"px",this._helper.nextTop=null),null!==this._helper.nextLeft&&(o.style.left=this._helper.nextLeft+"px",this._helper.nextLeft=null),this._helper.raf=null)}))),null===(e=this._drag)||void 0===e||e.call(this)},this._handleDragStop=t=>{var e;if(null===this._helper)return;this._source.classList.remove("ui-draggable-dragging"),this._helper=null,null===(e=this._stop)||void 0===e||e.call(this)};const i=this._source=t.source;i.classList.add("ui-draggable");const o=this._handle=null!==(e=t.handle?i.querySelector(t.handle):null)&&void 0!==e?e:i;o.classList.add("ui-draggable-handle"),this._start=t.start,this._stop=t.stop,this._drag=t.drag,this._backend=new m({handle:o,onDragStart:this._handleDragStart,onDragMove:this._handleDragMove,onDragStop:this._handleDragStop}),this._axis=null!==(s=t.axis)&&void 0!==s&&s,this._containment=t.containment}destroy(){const t=this._source;t.classList.remove("ui-draggable"),t.classList.remove("ui-draggable-dragging");this._handle.classList.remove("ui-draggable-handle"),this._backend.destroy(),
null!==this._helper&&(this._helper.raf&&cancelAnimationFrame(this._helper.raf),this._helper=null)}}class m{constructor(t){this._initial=null,this._handlePointerDown=t=>{if(null!==this._initial)return;if(!(t.target instanceof Element&&this._handle.contains(t.target)))return;if(this._initial=t,!this._dispatchEvent(this._createEvent("pointer-drag-start",t)))return void(this._initial=null);t.preventDefault();const e=this._getEventTarget();e.addEventListener("pointermove",this._handlePointerMove),e.addEventListener("pointerup",this._handlePointerUp),e.addEventListener("pointercancel",this._handlePointerUp),e.addEventListener("lostpointercapture",this._handlePointerUp),e.setPointerCapture(t.pointerId)},this._handlePointerMove=t=>{null!==this._initial&&this._initial.pointerId===t.pointerId&&(t.preventDefault(),this._dispatchEvent(this._createEvent("pointer-drag-move",t)))},this._handlePointerUp=t=>{if(null===this._initial||this._initial.pointerId!==t.pointerId)return;t.preventDefault();const e=this._getEventTarget();e.removeEventListener("pointermove",this._handlePointerMove),e.removeEventListener("pointerup",this._handlePointerUp),e.removeEventListener("pointercancel",this._handlePointerUp),e.removeEventListener("lostpointercapture",this._handlePointerUp),e.releasePointerCapture(this._initial.pointerId),this._dispatchEvent(this._createEvent("pointer-drag-stop",t)),this._initial=null};const e=this._handle=t.handle;this._onDragStart=t.onDragStart,this._onDragMove=t.onDragMove,this._onDragStop=t.onDragStop,e.style.touchAction="none";this._getEventTarget().addEventListener("pointerdown",this._handlePointerDown)}destroy(){this._handle.style.touchAction="";const t=this._getEventTarget();t.removeEventListener("pointerdown",this._handlePointerDown),t.removeEventListener("pointermove",this._handlePointerMove),t.removeEventListener("pointerup",this._handlePointerUp),t.removeEventListener("pointercancel",this._handlePointerUp),t.removeEventListener("lostpointercapture",this._handlePointerUp),null!==this._initial&&(t.releasePointerCapture(this._initial.pointerId),this._initial=null)}_getEventTarget(){return u.CheckMobile.iOS()||(0,u.isMac)()&&n.touch?window.document.documentElement:this._handle}_dispatchEvent(t){switch(t.type){case"pointer-drag-start":this._onDragStart(t);break;case"pointer-drag-move":this._onDragMove(t);break;case"pointer-drag-stop":this._onDragStop(t)}return!t.defaultPrevented}_createEvent(t,e){return(0,i.assert)(null!==this._initial),new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:{backend:this,initial:this._initial,current:e}})}}const _=[()=>navigator.userAgent.includes("Win")&&navigator.userAgent.includes("Chrome")?1/window.devicePixelRatio:1,()=>16,(t=(()=>0))=>{var e;return.8*(null!==(e=t())&&void 0!==e?e:0)}];s(901574);var f=s(285778);const b={headerHeight:0,additionalClass:"",alwaysVisible:!1,showBottomShadow:!0,scrollMarginTop:1,bubbleScrollEvent:!1};class v{constructor(t,e,s={}){if(this.scrolled=new r.Delegate,this.scrolltoend=new r.Delegate,this.scrolltostart=new r.Delegate,this.visibilityCallbacks=[],
this._scrollTargetTop=0,this._scrollSpeed=40,this._shadowOffset=10,this._shadowTop=null,this._shadowBottom=null,this._dragInitialized=!1,this._dragging=!1,this._draggable=null,this._atStart=!1,this._atEnd=!1,this._stickyBottom=null,this._animation=null,this._saved=null,this._options={...b,...s},this._wrapper=t,this._wrapper.classList.add(f.wrapper),this._content=e,this._headerHeight=this._options.headerHeight,this._scrollMarginTop=this._options.scrollMarginTop,this._scrollBar=document.createElement("div"),this._scrollBar.classList.add("sb-scrollbar","sb-scrollbar-body"),this._options.additionalClass&&this._scrollBar.classList.add(this._options.additionalClass),this._scrollBar.classList.toggle("active-always",this._options.alwaysVisible),this._scrollBarWrapper=document.createElement("div"),this._scrollBarWrapper.classList.add("sb-scrollbar-wrap"),this._touch=n.touch,this._touch)return this._content.style.position="relative",this._wrapper.classList.add(f.touch),void this._wrapper.addEventListener("scroll",(()=>this._onScroll()));this._wrapper.style.overflow="hidden",this._unsubscribe=(()=>{const t=()=>{this._dragging||(this._options.alwaysVisible||this._scrollBar.classList.add("active"),this._onScroll())},e=()=>{this._dragging||(this._options.alwaysVisible||this._scrollBar.classList.remove("active"),this._onScroll())},s=t=>{if(!t.defaultPrevented){const e=function(t,e=(()=>({}))){return{x:t.deltaX*_[t.deltaMode]((()=>e().width)),y:t.deltaY*_[t.deltaMode]((()=>e().height))}}(t,(()=>({height:this._wrapper.clientHeight}))).y;this.scroll(-e,1)||(t.stopPropagation(),t.preventDefault())}};return this._wrapper.addEventListener("mouseenter",t),this._wrapper.addEventListener("mouseleave",e),this._wrapper.addEventListener("wheel",s),()=>{this._wrapper.removeEventListener("mouseenter",t),this._wrapper.removeEventListener("mouseleave",e),this._wrapper.removeEventListener("wheel",s)}})(),!1!==this._options.showTopShadow&&(this._shadowTop=document.createElement("div"),this._shadowTop.classList.add("sb-inner-shadow","top","i-invisible"),this._wrapper.appendChild(this._shadowTop)),!1!==this._options.showBottomShadow&&(this._shadowBottom=document.createElement("div"),this._shadowBottom.classList.add("sb-inner-shadow"),this._wrapper.appendChild(this._shadowBottom)),this._shadowTop&&this._headerHeight&&(this._shadowTop.style.top=this._headerHeight-this._shadowOffset+"px"),this._wrapper.appendChild(this._scrollBarWrapper),this._scrollBarWrapper.appendChild(this._scrollBar),this._onScroll()}isTouch(){return this._touch}getScrollBar(){return this._scrollBar}initDraggable(){return this._dragInitialized||(this._draggable=new g({axis:"y",source:this._scrollBar,containment:this._scrollBarWrapper,start:()=>{this._dragging=!0},stop:()=>{this._dragging=!1},drag:()=>{this.updateScroll()}}),this._dragInitialized=!0),this}updateScroll(){if(this._touch)return this;const t=Math.ceil(h(this._scrollBar).top-this._scrollMarginTop-this._headerHeight),e=this.getContainerHeightWithoutHeader(),s=(0,a.outerHeight)(this._content),i=s-e-1
;return e<=0||(this._scrollTargetTop=i<=0?this._headerHeight:Math.min(-t*s/e+this._headerHeight,this._headerHeight),t+(0,a.contentHeight)(this._scrollBar)+2>=e?this.scrollToEnd():(this._content.style.top=this._scrollTargetTop+"px",this._onScroll())),this}getContainerHeightWithoutHeader(){return this._wrapper.getBoundingClientRect().height-this._headerHeight}getContainerHeight(){return this._wrapper.getBoundingClientRect().height}getContentHeight(){return this._content.getBoundingClientRect().height}updateScrollBar(){if(this._touch)return this;const t=h(this._content).top,e=this.getContentHeight(),s=this.getContainerHeight(),i=this.getContainerHeightWithoutHeader(),o=1+this._headerHeight,n=i-2,r=(Math.abs(t)-this._headerHeight)*n/e,a=s*s/e;return this.isContentShort()?(this._scrollBar.classList.add("js-hidden"),this._wrapper.classList.remove("sb-scroll-active")):(this._scrollBar.classList.remove("js-hidden"),this._scrollBar.style.height=a+"px",this._scrollBar.style.top=o+r+"px",this._wrapper.classList.add("sb-scroll-active"),this.initDraggable()),this}scroll(t,e){const s=h(this._content).top,i=(0,a.outerHeight)(this._content)-this.getContainerHeightWithoutHeader()-1,o=e||this._scrollSpeed;return i<=0||(this._scrollTargetTop=Math.max(-i+this._headerHeight,Math.min(this._headerHeight,s+t*o)),this.setContentTop(this._scrollTargetTop),this._onScroll())}animateTo(t){if(this._touch)return this;const e=(0,a.outerHeight)(this._content)-this.getContainerHeightWithoutHeader()-1;if(e<=0)return!0;var s;this._scrollTargetTop=Math.max(-e+this._headerHeight,Math.min(this._headerHeight,-t)),this._animation&&this._animation.stop(),this._animation=(s={duration:500,from:parseFloat(getComputedStyle(this._content).top),to:this._scrollTargetTop,onStep:(t,e)=>{this._content.style.top=e+"px"},onComplete:()=>{this._onScroll()}},new p(s))}resize(){const t=(0,a.outerHeight)(this._content),e=(0,a.outerHeight)(this._wrapper);!this._options.vAlignBottom&&t<e?this.atStart()||this.scrollToStart():this.atEnd()?this.scrollToEnd():"number"==typeof this._stickyBottom&&this.setContentTop(Math.min(0,this._stickyBottom+(0,a.outerHeight)(this._wrapper)-(0,a.outerHeight)(this._content)))}resizeHeader(t){const e=t-this._headerHeight;this._headerHeight=t,this._scrollTargetTop+=e,this._shadowTop&&(this._shadowTop.style.top=this._headerHeight-this._shadowOffset+"px"),this.resize()}scrollTo(t,e){const s={position:"visible",areaHeight:t instanceof HTMLElement?(0,a.contentHeight)(t):0,...e};t instanceof HTMLElement&&(t=s.offsetTop||h(t).top);const i=h(this._content).top,o=this._content.getBoundingClientRect().height,n=this.getContainerHeightWithoutHeader();if(o-n-1<=0)return!0;const r=-1*(i-this._headerHeight),l=r+n;let c=0;if("visible"===s.position){if(t>r&&t+s.areaHeight<l)return!1;c=t+s.areaHeight>l?l-t-s.areaHeight:r-t}else"top"===s.position&&(c=r-t);return this.scroll(c,1),this._onScroll(),!1}scrollToEnd(){const t=h(this._content).top,e=(0,a.outerHeight)(this._content),s=(0,a.outerHeight)(this._wrapper),i=e>s?t+(s-(e+t))+1:1;return this.setContentTop(i),
this._onScroll(),this}scrollToStart(){return this.setContentTop(this._headerHeight),this._onScroll(),this}currentPosition(){return Math.round(h(this._content).top)}atStart(){return Math.round(h(this._content).top)>=this._headerHeight}atEnd(t){"number"==typeof t&&isFinite(t)||(t=0);const e=Math.round(h(this._content).top),s=Math.floor((0,a.outerHeight)(this._content)),i=Math.floor((0,a.outerHeight)(this._wrapper));return s-Math.abs(e)-1<=i+t}checkContentVisibility(){this._onContentVisible()}subscribeToContentVisible(t,e,s){this.visibilityCallbacks.push({id:t,element:e,callback:s})}triggerVisibilityCallbacks(t){this._onContentVisible(t)}save(){return this._saved={top:h(this._content).top,height:(0,a.outerHeight)(this._content)},this}restore(){if(this._saved){if(this._saved.top===h(this._content).top&&this._saved.height===(0,a.outerHeight)(this._content))return this._saved=null,this;this._options.vAlignBottom&&(this._saved.top-=(0,a.outerHeight)(this._content)-this._saved.height,this._saved.top>this._headerHeight&&(this._saved.top=this._headerHeight)),this.setContentTop(this._saved.top),this._saved=null,this._onScroll(!0)}return this}setContentTop(t){return this._touch?this._options.vAlignBottom&&(0,a.outerHeight)(this._content)<(0,a.outerHeight)(this._wrapper)?(this._wrapper.style.overflowY="visible",this._content.style.position="absolute",this._content.style.bottom="0px"):(this._content.style.position="relative",this._content.style.position="auto",this._wrapper.style.overflowY="auto",this._wrapper.scrollTop=-t):this._content.style.top=t+"px",this}isContentShort(){return this.getContentHeight()<=this.getContainerHeightWithoutHeader()}destroy(){var t;this._animation&&this._animation.stop(),this._scrollBarWrapper&&this._scrollBarWrapper.remove(),this._shadowBottom&&this._shadowBottom.remove(),this._shadowTop&&this._shadowTop.remove(),this._draggable&&(this._draggable.destroy(),this._draggable=null),this._content.style.cssText="",this._wrapper.style.cssText="",null===(t=this._unsubscribe)||void 0===t||t.call(this)}_onScroll(t){this._touch||(this._content.style.bottom="auto"),this.scrolled.fire(),this._dragging&&!0!==t||this.updateScrollBar();const e=this.atStart(),s=this.atEnd();return this._shadowTop&&this._shadowTop.classList.toggle("i-invisible",!!e),this._shadowBottom&&this._shadowBottom.classList.toggle("i-invisible",!!s),this._onContentVisible(),!this._atStart&&e?(this._atStart=!0,this.scrolltostart.fire()):this._atStart&&!e&&(this._atStart=!1),!this._atEnd&&s?(this._atEnd=!0,this.scrolltoend.fire()):this._atEnd&&!s&&(this._atEnd=!1),this._options.vAlignBottom&&(this._stickyBottom=(0,a.outerHeight)(this._content)-Math.abs(h(this._content).top)-(0,a.outerHeight)(this._wrapper)),(this._atStart||this._atEnd)&&("function"==typeof this._options.bubbleScrollEvent?Boolean(this._options.bubbleScrollEvent()):Boolean(this._options.bubbleScrollEvent))}_contentIsVisible(t){return h(t.element).top>-1*this.currentPosition()}_onContentVisible(t){if(!this.visibilityCallbacks.length)return
;const e=t||this._contentIsVisible.bind(this),s=[],i=this.visibilityCallbacks.filter(((t,i)=>{if(!this._content.contains(t.element))return!1;const o=e(t);return o&&s.push(i),!o}));s.forEach((e=>{this.visibilityCallbacks[e].callback(!!t)})),this.visibilityCallbacks=i}}var w=s(823127);class y{constructor(t,e={}){this.$el=t,this.$wrap=e.$wrap||t.find(".tv-dropdown-behavior__button"),this.$body=e.$body||t.find(".tv-dropdown-behavior__body"),this.notCloseWithCtrl=!!e.notCloseWithCtrl&&e.notCloseWithCtrl,this.closeWithEsc=void 0===e.closeWithEsc||e.closeWithEsc,this.closeWithEsc&&this.$el.attr("tabIndex",0),(t.data("scroll")||e.scroll)&&(this.$scroll=this.$body.find(".tv-dropdown-behavior__scroll"),this.$inScroll=this.$scroll.find(".tv-dropdown-behavior__inscroll"),this.scroll=new v(this.$scroll[0],this.$inScroll[0],{showTopShadow:!1,showBottomShadow:!1}),this.$scrollBar=w(this.scroll.getScrollBar()),this.$scrollBar&&this.$scrollBar.on("mousedown.tv-dropdown-view-scroll",(()=>{this.offClickOutside(),w(document).on("mouseup.tv-dropdown-view-scroll",(()=>{this.onClickOutside(),w(document).off("mouseup.tv-dropdown-view-scroll")}))}))),(t.data("adaptBody")||e.adaptBody)&&(this._adaptBody=!0),(t.data("adaptOnlyInScrollHeight")||e.adaptOnlyInScrollHeight)&&(this._adaptOnlyInScrollHeight=!0),this._fitScreen=t.data("fitScreen")||e.fitScreen,this._maxHeight=t.data("maxHeight")||e.maxHeight,this._dropdownWidth=t.data("dropdownWidth")||e.dropdownWidth,this._boundingElement=e.boundingElement,this.$wrap.add(t.find(".js-dropdown-toggle")).on("click",(t=>{w(t.currentTarget).hasClass("js-prevent-dropdown")||this.toggle()})),this._checkIgnoreClickOutside=[]}toggle(){this.opened?this.close(!0):this.open()}open(){this.opened||this.disabled||this.readonly||(this.$el.trigger("beforeOpenMenu"),this.$body.removeClass("i-hidden").addClass("i-opened"),this.$wrap.addClass("i-dropped"),this.$el.addClass("i-opened"),"horz"===this._fitScreen&&this.fitHorizontally(),this._adaptBody&&this.adaptBody(),this.onClickOutside(),this.$el.trigger("updateScroll"),this.$el.trigger("afterOpenMenu"),this.opened=!0,this.closeWithEsc&&this.$el.on("keypress keyup",(t=>{27===t.keyCode&&this.close(!0)})))}onClickOutside(){setTimeout((()=>{this.$body.on("clickoutside",(t=>{this._checkIgnoreClickOutside.length&&this._checkIgnoreClickOutside.some((e=>e(t)))||this.close(!0)}))}),0)}offClickOutside(){this.$body.off("clickoutside")}setCheckIgnoreClickOutside(t){this._checkIgnoreClickOutside.push(t)}dropCheckIgnoreClickOutside(t){var e=this._checkIgnoreClickOutside.indexOf(t);-1!==e&&this._checkIgnoreClickOutside.splice(e,1)}close(t=!1){!this.opened||this.disabled||this.readonly||!t&&this.notCloseWithCtrl&&(window.event.ctrlKey||window.event.metaKey)||(this.offClickOutside(),this.$wrap.removeClass("i-dropped"),this.$el.trigger("beforeCloseMenu"),this.$body.removeClass("i-opened").addClass("i-hidden"),this.$el.removeClass("i-opened"),this.closeWithEsc&&this.$el.off("keypress keyup"),this.opened=!1,this.$el.trigger("afterCloseMenu"))}isOpened(){return this.opened}updateScroll(){
this.scroll&&(this.scroll.updateScrollBar(),this.scroll.scrollToStart())}enable(){this.$wrap.removeClass("i-disabled"),this.disabled=!1}disable(){this.$wrap.addClass("i-disabled"),this.disabled=!0}setReadonly(t){this.readonly=t}adaptBody(){const t=this.$body,e=this.$wrap.get(0).getBoundingClientRect(),s=this._boundingElement?this._boundingElement.getBoundingClientRect():{top:0,bottom:window.innerHeight,height:window.innerHeight},i=parseFloat(t.css("padding-top")),o=parseFloat(t.css("padding-bottom")),n=this.$inScroll.outerHeight(!0)+i+o;if(this.scroll&&this.scroll.scrollToStart(),this._adaptOnlyInScrollHeight){const i=t.find(".js-dropdown-dummy"),n=i?parseFloat(i.css("padding-bottom"))+parseFloat(i.css("margin-bottom")):0,r=e.top+e.height+n;return void this.$el.find(".tv-dropdown-behavior__scroll").css("maxHeight",s.bottom-o-r-25)}const r=this._maxHeight||n,a=e.top+r+25<=s.bottom,l=s.top+15+r<=e.bottom;let h,c=this._maxHeight||"auto";if(a)h=-i;else if(l)h=-r+e.height+o;else{h=-e.top+s.top+15;const t=s.height-15-25;r>t&&(c=t)}t.css("top",h),t.height(c),this._dropdownWidth&&t.width(this._dropdownWidth)}fitHorizontally(){this.$body.css("marginLeft",0);const t=document.body.getBoundingClientRect(),e=parseFloat(w(document.body).css("paddingRight")),s=this.$body.offset();s.right=s.left+this.$body.outerWidth();const i=Math.max(Math.min(0,t.right-e-s.right),t.left-s.left);i&&this.$body.css("marginLeft",i)}destroy(){this.scroll&&this.scroll.destroy(),this.offClickOutside(),this.$el.find(".js-dropdown-toggle").off("click"),this.$wrap.off("click")}}w.fn.tvDropdown=(0,o.createTvBlockWithInstance)("tv-dropdown",(function(t,e={}){return new y(t,e)}));var C=s(192780),S=s(901107),E=s(185515),k=s(242907),T=s(410899),x=s(596080),L=s(798218),N=s(453290),P=(s(809890),s(29481),s(589679),s(50959)),M=s(500962),D=(s(823127),s(213398),s(444372)),O=s(497754),B=s.n(O),H=s(817931),F=s(123059),W=s(551080),$=s(782536);class I extends P.PureComponent{constructor(t){super(t)}render(){return P.createElement("div",{className:this.props.className,onClick:this.props.onClick,ref:this.props.reference},this.props.children)}}var A=s(444530);function R(t){const{children:e,onResize:s}=t;return e((0,A.useResizeObserver)(s||(()=>{}),[null===s]))}class j extends P.PureComponent{constructor(t){super(t),this._handleResize=([t])=>{var e,s;null===(s=(e=this.props).onMeasure)||void 0===s||s.call(e,t.target.getBoundingClientRect())}}render(){const{theme:t=$}=this.props,e=O(t.list,{[this.props.className]:Boolean(this.props.className)}),{fontSize:s=13}=this.props,i={bottom:this.props.bottom,fontSize:s,left:this.props.left,height:this.props.height||"auto",right:this.props.right,top:this.props.top,width:this.props.width,zIndex:this.props.zIndex};return P.createElement(R,{onResize:Boolean(this.props.onMeasure)?this._handleResize:null},(t=>P.createElement("div",{className:e,style:i,ref:(0,W.mergeRefs)([this.props.reference,t])},this._wrapItems(this.props.items,this.props.selected))))}componentDidMount(){if(this._el=M.findDOMNode(this),
void 0!==this.props.selected&&this.props.shouldScrollIfNotVisible){const t=this._items[this.props.selected];t&&this._scrollIfNotVisible(t)}}componentDidUpdate(){if(void 0!==this.props.selected&&this.props.shouldScrollIfNotVisible){const t=this._items[this.props.selected];t&&this._scrollIfNotVisible(t)}}_wrapItems(t=[],e){this._items=[];const{itemWrap:s=I,theme:i=$}=this.props,o=s;return t.map(((t,s)=>{const n=O(i.item,{[this.props.itemsClassName]:Boolean(this.props.itemsClassName),[this.props.selectedClassName]:e===s});return P.createElement(o,{reference:e=>{e&&this._items.push({elem:e,index:s,value:t})},key:s,onClick:()=>this._onSelect(s),className:n},t.elem)}))}_onSelect(t){this.props.onSelect&&this.props.onSelect(t,this._items[t].value)}_scrollIfNotVisible(t){const e=this._el.scrollTop,s=this._el.scrollTop+this._el.clientHeight,i=t.elem.offsetTop,o=i+t.elem.clientHeight;i<=e?t.elem.scrollIntoView(!0):o>=s&&t.elem.scrollIntoView(!1)}}j.defaultProps={shouldScrollIfNotVisible:!0};var U=s(368337);class z extends P.PureComponent{render(){const t={position:"absolute",top:this.props.top,width:this.props.width,height:this.props.height,bottom:this.props.bottom,right:this.props.right,left:this.props.left,zIndex:this.props.zIndex};return P.createElement("div",{className:this.props.className,style:t,ref:this.props.reference},this.props.children)}}z.displayName="Dropdown Container";const V=(0,U.makeOverlapable)((q=z,(X=class extends P.PureComponent{constructor(t){super(t),this._getComponentInstance=t=>{this._instance=t},this._throttleCalcProps=()=>{requestAnimationFrame((()=>this.setState(this._calcProps(this.props))))},this.state=this._getStateFromProps()}componentDidMount(){this._instanceElem=M.findDOMNode(this._instance),this.props.attachOnce||this._subscribe(),this.setState(this._calcProps(this.props))}componentDidUpdate(t){t.children===this.props.children&&t.top===this.props.top&&t.left===this.props.left&&t.width===this.props.width||this.setState(this._getStateFromProps(),(()=>this.setState(this._calcProps(this.props))))}render(){return P.createElement("div",{style:{position:"absolute",width:"100%",top:0,left:0}},P.createElement(q,{...this.props,ref:this._getComponentInstance,top:this.state.top,bottom:void 0!==this.state.bottom?this.state.bottom:"auto",right:void 0!==this.state.right?this.state.right:"auto",left:this.state.left,width:this.state.width,maxWidth:this.state.maxWidth},this.props.children))}componentWillUnmount(){this._unsubsribe()}_getStateFromProps(){return{bottom:this.props.bottom,left:this.props.left,right:this.props.right,top:void 0!==this.props.top?this.props.top:-1e4,width:this.props.inheritWidthFromTarget?this.props.target&&this.props.target.getBoundingClientRect().width:this.props.width,maxWidth:this.props.inheritMaxWidthFromTarget&&this.props.target&&this.props.target.getBoundingClientRect().width}}_calcProps(t){if(t.target&&t.attachment&&t.targetAttachment){const e=this._calcTargetProps(t.target,t.attachment,t.targetAttachment);if(null===e)return{}
;const{width:s,inheritWidthFromTarget:i=!0,inheritMaxWidthFromTarget:o=!1}=this.props,n={width:i?e.width:s,maxWidth:o?e.width:void 0};switch(t.attachment.vertical){case"bottom":case"middle":n.top=e.y;break;default:n[t.attachment.vertical]=e.y}switch(t.attachment.horizontal){case"right":case"center":n.left=e.x;break;default:n[t.attachment.horizontal]=e.x}return n}return{}}_calcTargetProps(t,e,s){const i=t.getBoundingClientRect(),o=this._instanceElem.getBoundingClientRect(),n="parent"===this.props.root?this._getCoordsRelToParentEl(t,i):this._getCoordsRelToDocument(i);if(null===n)return null;const r=this._getDimensions(o),a=this._getDimensions(i).width;let l=0,h=0;switch(e.vertical){case"top":h=n[s.vertical];break;case"bottom":h=n[s.vertical]-r.height;break;case"middle":h=n[s.vertical]-r.height/2}switch(e.horizontal){case"left":l=n[s.horizontal];break;case"right":l=n[s.horizontal]-r.width;break;case"center":l=n[s.horizontal]-r.width/2}return"number"==typeof this.props.attachmentOffsetY&&(h+=this.props.attachmentOffsetY),"number"==typeof this.props.attachmentOffsetX&&(l+=this.props.attachmentOffsetX),{x:l,y:h,width:a}}_getCoordsRelToDocument(t){const e=pageYOffset,s=pageXOffset,i=t.top+e,o=t.bottom+e,n=t.left+s;return{top:i,bottom:o,left:n,right:t.right+s,middle:(i+t.height)/2,center:n+t.width/2}}_getCoordsRelToParentEl(t,e){const s=t.offsetParent;if(null===s)return null;const i=s.scrollTop,o=s.scrollLeft,n=t.offsetTop+i,r=t.offsetLeft+o,a=e.width+r;return{top:n,bottom:e.height+n,left:r,right:a,middle:(n+e.height)/2,center:(r+e.width)/2}}_getDimensions(t){return{height:t.height,width:t.width}}_subscribe(){"document"===this.props.root&&(window.addEventListener("scroll",this._throttleCalcProps,!0),window.addEventListener("resize",this._throttleCalcProps))}_unsubsribe(){window.removeEventListener("scroll",this._throttleCalcProps,!0),window.removeEventListener("resize",this._throttleCalcProps)}}).displayName="Attachable Component",X));var q,X,G=s(166613);class Y extends P.PureComponent{constructor(){super(...arguments),this._container=null,this._setContainerRef=t=>{"function"==typeof this.props.reference&&this.props.reference(t),"object"==typeof this.props.reference&&(this.props.reference.current=t),this._container=t}}componentDidMount(){this.props.onDropdownWheelNoPassive&&this._addPassiveListenerOnWheel(this.props.onDropdownWheelNoPassive)}componentDidUpdate(t){this.props.onDropdownWheelNoPassive!==t.onDropdownWheelNoPassive&&this._updatePassiveListenerOnWheel(t.onDropdownWheelNoPassive)}componentWillUnmount(){this.props.onDropdownWheelNoPassive&&this._removePassiveListenerOnWheel(this.props.onDropdownWheelNoPassive)}render(){const{shadow:t="bottom",children:e,className:s}=this.props,i=O(G.container,G[t],s),o={maxHeight:this.props.maxHeight};return P.createElement("div",{ref:this._setContainerRef,style:o,className:i,onTouchStart:this.props.onDropdownTouchStart,onTouchMove:this.props.onDropdownTouchMove,onTouchEnd:this.props.onDropdownTouchEnd,onWheel:this.props.onDropdownWheel},e)}_updatePassiveListenerOnWheel(t){
t&&this._removePassiveListenerOnWheel(t),this.props.onDropdownWheelNoPassive&&this._addPassiveListenerOnWheel(this.props.onDropdownWheelNoPassive)}_addPassiveListenerOnWheel(t){(0,i.ensureNotNull)(this._container).addEventListener("wheel",t,{passive:!1})}_removePassiveListenerOnWheel(t){(0,i.ensureNotNull)(this._container).removeEventListener("wheel",t)}}const K={bottom:{attachment:{horizontal:"left",vertical:"top"},targetAttachment:{horizontal:"left",vertical:"bottom"}},top:{attachment:{horizontal:"left",vertical:"bottom"},targetAttachment:{horizontal:"left",vertical:"top"}},topRight:{attachment:{horizontal:"right",vertical:"bottom"},targetAttachment:{horizontal:"right",vertical:"top"}},bottomRight:{attachment:{horizontal:"right",vertical:"top"},targetAttachment:{horizontal:"right",vertical:"bottom"}}};const Q=function(t){var e;return(e=class extends P.PureComponent{constructor(t){super(t),this._items=this.props.items}componentDidUpdate(t){if(t.command!==this.props.command&&this.props.command)switch(this.props.command.name){case"next":this._next();break;case"prev":this._prev()}t.items!==this.props.items&&(this._items=this.props.items)}render(){return P.createElement(t,{...this.props},this.props.children)}_next(){const{selected:t=-1}=this.props,e=t+1;this._items.length-1>=e?this._navigateTo(e):this._navigateTo(0)}_prev(){const{selected:t=-1}=this.props,e=t-1,s=this._items.length-1;0<=e?this._navigateTo(e):this._navigateTo(s)}_navigateTo(t){this.props.onNavigate&&this.props.onNavigate(t,this._items[t])}}).displayName="Navigateable Component",e}(j),Z=function(t){var e;return(e=class extends P.PureComponent{render(){const{anchor:e="bottom"}=this.props;return P.createElement(t,{...this.props,attachment:K[e].attachment,targetAttachment:K[e].targetAttachment})}}).displayName="Anchorable Component",e}(V),J={top:"top",bottom:"bottom",topRight:"top"};class tt extends P.PureComponent{render(){const{anchor:t="bottom",fontSize:e=14,root:s="parent"}=this.props,i=O(F.list,F[t]),{dropdownClassName:o,height:n,...r}=this.props;return P.createElement(Z,{...r,className:o,root:s},P.createElement(Y,{className:this.props.dropdownContainerClassName,shadow:J[t],maxHeight:this.props.maxHeight,onDropdownTouchStart:this.props.onDropdownTouchStart?this.props.onDropdownTouchStart:void 0,onDropdownTouchMove:this.props.onDropdownTouchMove?this.props.onDropdownTouchMove:void 0,onDropdownTouchEnd:this.props.onDropdownTouchEnd?this.props.onDropdownTouchEnd:void 0,onDropdownWheelNoPassive:this.props.onDropdownWheelNoPassive?this.props.onDropdownWheelNoPassive:void 0},P.createElement(Q,{...r,width:this.props.width,height:n,className:this.props.className||i,itemsClassName:this.props.itemsClassName||F.item,selectedClassName:this.props.selectedClassName||F.selected,fontSize:e,reference:this.props.reference})))}}var et;!function(t){t.Light="light",t.Dark="dark"}(et||(et={}));var st=s(849204);const it=s.p+"mock-dark.16b5f3a431f502b03ae3.svg",ot=s.p+"mock-light.d201313017eb2c1b989f.svg",nt={erl:"EU",uk:"GB",bitcoin:"BTC"}
;function rt(t,e,s=st.LogoSize.Medium){return t?(t.toLowerCase()in nt&&(t=nt[t]),(0,st.getLogoUrlResolver)().getCountryFlagUrl(t.toUpperCase(),s)):function(t){return t===et.Dark?it:ot}(e)}var at=s(83436),lt=s(890756);s(116144);function ht(t){const{name:e,className:s,size:i,title:o,alt:n,role:r}=t,a=O(`tv-flag-country tv-flag-country--${e}`,i&&`tv-flag-country--size_${i}`,s);if("forex"===e)return P.createElement(at.Icon,{icon:lt,className:a});const l=rt(e);return P.createElement("img",{title:o,alt:n,className:a,src:l,role:r})}var ct=s(58407),dt=s(416293),pt=s(546556);const ut={...$,...pt};class gt extends P.PureComponent{constructor(t){super(t),this._horizontalItemPadding=15,this._verticalItemPadding=10,this._verticalListPadding=1,this._onWindowResize=()=>{this.state.isOpened&&this._onMeasure()},this._onMeasure=()=>{const t=this.props.itemHeight*this.props.options.length,e=this._btnEl.getBoundingClientRect(),s=this._getScrollWidth(),i=document.documentElement.clientWidth-e.left-s-10,o=i>this.props.itemWidth,n=this.props.maxHeight?Math.min(Math.ceil(t/this.props.maxHeight),this.props.maxColumns||1,Math.floor(i/this.props.itemWidth)||1):1;let r,a=this.props.itemWidth*n;const l=Math.ceil(this.props.options.length/n)*this.props.itemHeight;o?r=0:(a=document.documentElement.clientWidth-20,this.props.maxHeight&&l>this.props.maxHeight&&(a-=s),r=10-e.left),this.setState({width:a,height:l+2*this._verticalListPadding,left:r,top:"top"===this.props.horizontalAttachment?0:e.height})},this._onOutsideClick=t=>{this.state.isOpened&&(t.preventDefault(),t.stopPropagation()),this.setState({isOpened:!1})},this._getScrollWidth=()=>{const t=document.createElement("div");t.style.overflowY="scroll",t.style.width="50px",t.style.height="50px",t.style.visibility="hidden",document.body.appendChild(t);const e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},this._toggle=t=>({isOpened:!this.props.disabled&&!t.isOpened,selected:t.selected}),this._onSelect=t=>{t!==this.state.selected?(this.props.onSelect&&this.props.onSelect(this.props.options[t]),this.setState((()=>({isOpened:!1,selected:t})))):this.setState((()=>({isOpened:!1})))},this.state={isOpened:!1,selected:t.initialSelected||0,left:0,top:0}}componentDidMount(){this._btnEl=M.findDOMNode(this._btn),window.addEventListener("resize",(()=>this._onWindowResize()))}render(){const t=O(H.title),e=O(H.button),s=O(H.wrap,{[H.disabled]:!!this.props.disabled}),i=this.props.options[this.state.selected],o=this.props.options.map((e=>({elem:P.createElement("span",{style:{width:this.props.itemWidth-2*this._horizontalItemPadding,height:this.props.itemHeight-2*this._verticalItemPadding}},P.createElement(ht,{title:e.flagTitle||e.title,name:e.flagId}),P.createElement("span",{className:t},e.title))}))),n=Math.min(this.props.maxHeight||1/0,3*document.documentElement.clientHeight/4),r=this.state.height&&this.state.height>n?n:void 0;return P.createElement(ct.OutsideEvent,{handler:this.props.outsideClick||this._onOutsideClick,click:!0},(t=>P.createElement("div",{ref:t,className:s
},P.createElement("span",{ref:t=>{this._btn=t},onClick:()=>this.setState(this._toggle),className:e},P.createElement(ht,{title:i.flagTitle||i.title,name:i.flagId,size:this.props.flagSize}),P.createElement(dt.ToolWidgetCaret,{dropped:this.state.isOpened,className:H.caret})),P.createElement(tt,{isOpened:this.state.isOpened,selected:this.state.selected,items:o,onSelect:this._onSelect,onMeasure:this._onMeasure,width:this.state.width,height:this.state.height,maxHeight:r,left:this.state.left,top:this.state.top,theme:ut,className:H.dropdownWithFlagList,itemsClassName:H.item}))))}}const mt=JSON.parse('["ATHEX","BAHRAIN","BCBA","BYMA","BELEX","BME","BMFBOVESPA","BMV","BSSE","BVB","BVL","BVCV","BVMT","CSEMA","DFM","DSEBD","EURONEXT_AMS","EURONEXT_BRU","EURONEXT_LIS","EURONEXT_PAR","EURONEXTAMS","EURONEXTBRU","EURONEXTLIS","EURONEXTPAR","OSE","OSL","FSE","HKEX","HOSE","ICESG","LUXSE","MOEX","MYX","NAG","NASDAQDUBAI","NSE","NSENG","NSEKE","NGM","NZX","PSE","PSX","SAPSE","SET","SGX","SZSE","SHFE","TADAWUL","TSE","TWSE","FTSEST"]');const _t=["artechecom","cincodias","copees","elconfidencial","elespanolcom","elnacionalD","elpaisfinanciero","epe","finanzasD","lainformacioncom"],ft=["bovespa","forbescombr","genialinvestimentos","marcopolocombr","moneytimescombr","NoticiasagricolaD","poder360","seudinheiro","spacemoneycombr","tradersclubbrasil","tradersclubbrasilD","vocesaabrilcombr","xpicombr"];var bt,vt=s(987088),wt=s(724377),yt=s(745269),Ct=s(17966),St=s(607546),Et=s(647757),kt=s(405128),Tt=s(246733),xt=s(503344),Lt=s(208817),Nt=s(541558),Pt=s(668616),Mt=s(329806),Dt=s(201089),Ot=s(389137),Bt=s(541346);!function(t){function e(t,e){return 0===t?e&&void 0!==e.neutral?e.neutral:c.color.black70:t>0?e&&void 0!==e.up?e.up:vt.colorsPalette["color-success"]:e&&void 0!==e.down?e.down:vt.colorsPalette["color-danger"]}t.formatSign=e,t.formatDiff=function(t,s){return e(s-t)},t.domDifference=function(t,e,s=0,i="",o=""){function n(t){const e=document.createElement("span");return e.innerHTML=t,e}const r=document.createElement("div");if(!s)return r.appendChild(n(t)),r;const a=t+"",l=e+"";let h=null;if(a.length===l.length){for(let t=0;t<a.length;t++)if(a.charAt(t)!==l.charAt(t)){h=t;break}}else h=Number("0");if(null===h)return r.appendChild(n(a)),r;const c=n(a.substring(0,h)),d=document.createElement("span");return d.className=s<0?i:o,d.appendChild(n(a.substring(h))),r.appendChild(c),r.appendChild(d),r}}(bt||(bt={}));var Ht=s(624444),Ft=s(943994),Wt=(s(989897),s(780792));const $t={invalid:"tv-market-status--invalid",market:"tv-market-status--market",out_of_session:"tv-market-status--out-of-session",post_market:"tv-market-status--post-market",pre_market:"tv-market-status--pre-market",loading:"tv-market-status--loading",holiday:"tv-market-status--holiday",replay:"tv-market-status--replay"};class It extends Wt.AbstractIndicator{constructor(t){super(t),this._quoteSessionPrefix="market-status-indicator",this._componentClass="tv-market-status",this._extraTitle="",this._init(t)}setStatus(t,e){const s={values:{current_session:t}};this.update(s,e)}
getTooltipText(){let t=super.getTooltipText();return""===t||""!==this._extraTitle&&(t=`${t}, ${this._extraTitle}`),t}setExtraTitle(t){this._extraTitle=t}reset(){this._clearClasses(),this._labelEl.textContent="",this._extraTitle="",this._el.setAttribute("title",""),this._value=""}enableShortMode(t=!0){void 0!==this._labelEl&&this._labelEl.classList.add("i-hidden"),super.enableShortMode()}disableShortMode(){void 0!==this._labelEl&&this._labelEl.classList.remove("i-hidden"),super.disableShortMode()}_renderLabel(){this._labelEl.textContent=this.getLabel()}_getValueFromData(t){return void 0!==t.values&&void 0!==t.values.current_session?t.values.current_session:this.getValue()}_render(){this._renderLabelElement(),this._renderDotElement(),super._render()}_init(t){const e=Object.assign({},function(){const t={invalid:D.t(null,void 0,s(814177)),market:D.t(null,void 0,s(486533)),out_of_session:D.t(null,void 0,s(548979)),post_market:D.t(null,void 0,s(566812)),pre_market:D.t(null,void 0,s(845198)),loading:D.t(null,void 0,s(25911)),holiday:D.t(null,void 0,s(988958)),replay:""};return{classMap:$t,classSuffix:"",data:{},extraTitle:"",labelMap:t,short:!1,showTooltip:!0,tooltipType:"custom"}}(),t);super._init(e),this.setExtraTitle(e.extraTitle),this._render()}_renderLabelElement(){void 0===this._labelEl&&(this._labelEl=document.createElement("span"),this._labelEl.classList.add(`${this._componentClass}__label`),this._labelEl.classList.add(`${this._componentClass}__label${this._classSuffix}`),this._el.appendChild(this._labelEl))}_renderDotElement(){void 0===this._dotEl&&(this._dotEl=document.createElement("span"),this._dotEl.classList.add(`${this._componentClass}__dot`),this._dotEl.classList.add(`${this._componentClass}__dot${this._classSuffix}`),this._el.appendChild(this._dotEl))}}var At,Rt=s(719240),jt=s(665570),Ut=s(876332);s(586463);function zt(t){return t===At.McxFlag}function Vt(t){return t.endsWith("_dly")}!function(t){t.NseFlag="nse_free",t.McxFlag="mcx_free"}(At||(At={}));const qt=(0,Dt.getLogger)("QuoteTicker"),Xt={addDescriptionTitle:!0,changeDirectionDownClass:"down",changeDirectionUpClass:"up",changeDirectionNeutralClass:"neutral",changeInBrackets:!1,changePercentInBrackets:!1,lastPriceTimeInBrackets:!0,rtcTimeInBrackets:!0,clientName:"quote-ticker",dontDyePrice:!1,fallingBg:null,growingBg:null,lastFallingClass:"falling",lastGrowingClass:"growing",quoteSession:null,signNegative:!0,signPositive:!1,customPriceFormatter:null,customTimeFormatter:null,sessionStatusClassSuffix:"--for-ticker",dataModeClassSuffix:"--for-ticker",showInvalidSymbolStatus:!1,indicatorsTooltipType:"custom",lastPriceLastCharSup:!1,lastPriceHighlightDiffOnly:!1,initedHook:void 0,setStateHook:void 0,permissionDeniedHook:void 0,noSuchSymbolHook:void 0},Gt=String.fromCharCode(8198),Yt=/[K,M,B]/;function Kt(t,e,s={}){this.enabled=!0,this._symbol=t,this._symbolOriginal=null,this._options=(0,Mt.deepExtend)({},Xt,s),!1!==this._options.signNegative&&!0!==this._options.signNegative&&delete this._options.signNegative,
s.customPriceFormatter&&(this._customPriceFormatter=s.customPriceFormatter),s.customTimeFormatter&&(void 0!==s.customTimeFormatter.lastPrice||void 0!==s.customTimeFormatter.rtc?this._timeFormatter=s.customTimeFormatter:this._timeFormatter={lastPrice:s.customPriceFormatter,rtc:s.customPriceFormatter}),this._percentFormatter=new Bt.PercentageFormatter,this._defaultPriceFormatter=new Ht.PriceFormatter(100),this._priceFormatter=this._customPriceFormatter||this._defaultPriceFormatter,this._volumeFormatter=new Ft.VolumeFormatter(2),this._cache={},this._lastPrice=null,this._lastPriceFormatted="",this._elements={},this._textNodes={},this._changeVolumeLetter=this._getChangeVolumeLetterCallback(),this._setElements(e),this._highlighters={},this._initHighlighters(),this._options.setStateHook&&this.setStateHook(this._options.setStateHook),this.quoteSession=this._options.quoteSession||(0,Ut.getQuoteSessionInstance)("simple"),this._quoteSessionEventHandler=this.onData.bind(this),this._connectTimeoutId=setTimeout(this.connect.bind(this),0)}function Qt(t){const e=t.search(Yt),s=e>=0?`${Gt}${t.slice(e)}`:"";return[e>0?t.substring(e,0):0===e?"":t,s]}function Zt(t,e,s,i,o){var n,r=null;function a(){if(n&&(clearTimeout(n),n=void 0),s||e)for(var r=0;r<t.length;r++)t[r].style.background="";if(!s||!e)for(r=0;r<t.length;r++)i&&t[r].classList.remove(i),o&&t[r].classList.remove(o)}return{show:function(l){var h=0;if(l!==r){if(null!==r&&null!==l&&(h=l-r),a(),n=setTimeout(a,750),0<h){if(e)for(var c=0;c<t.length;c++)t[c].style.background=e;else if(i)for(c=0;c<t.length;c++)t[c].classList.add(i)}else if(h<0)if(s)for(c=0;c<t.length;c++)t[c].style.background=s;else if(o)for(c=0;c<t.length;c++)t[c].classList.add(o);null!==l&&(r=l)}},hide:a}}Kt.prototype._setElements=function(t){this._container=t,this._elements.change=this._findElements(t,["js-symbol-change","symbol-change"]),this._elements.changeDirection=this._findElements(t,["js-symbol-change-direction","symbol-change-direction"]),this._elements.extHrsChangeDirection=this._findElements(t,["js-symbol-ext-hrs-change-direction"]),this._elements.changePercent=this._findElements(t,["js-symbol-change-pt","symbol-change-pt"]),this._elements.description=this._findElements(t,["js-symbol-description-name","symbol-description-name"]),this._elements.extHrsChange=this._findElements(t,"js-symbol-ext-hrs-change"),this._elements.extHrsChangePercent=this._findElements(t,"js-symbol-ext-hrs-change-pt"),this._elements.extHrsClose=this._findElements(t,"js-symbol-ext-hrs-close"),this._elements.industry=this._findElements(t,["js-symbol-industry","symbol-industry"]),this._elements.last=this._findElements(t,["js-symbol-last","symbol-last"]),this._elements.sector=this._findElements(t,["js-symbol-sector","symbol-sector"]),this._elements.sessionStatus=this._findElements(t,"js-symbol-session-status"),this._elements.shortName=this._findElements(t,["js-symbol-short-name","symbol-short-name"]),this._elements.updateMode=this._findElements(t,"js-data-mode"),this._elements.updateMode.forEach((t=>t.classList.add("i-hidden"))),
this._textNodes.change=this._getOrCreateTextNodes(this._elements.change),this._textNodes.changePercent=this._getOrCreateTextNodes(this._elements.changePercent),this._textNodes.extHrsChange=this._getOrCreateTextNodes(this._elements.extHrsChange),this._textNodes.extHrsChangePercent=this._getOrCreateTextNodes(this._elements.extHrsChangePercent),this._textNodes.extHrsClose=this._getOrCreateTextNodes(this._elements.extHrsClose),this._textNodes.last=this._getOrCreateTextNodes(this._elements.last),this._textNodes.open=this._findTextNodes(t,"js-symbol-open"),this._textNodes.eps=this._findTextNodes(t,"js-symbol-eps"),this._textNodes.marketCap=this._findTextNodes(t,"js-symbol-market-cap"),this._textNodes.prevClose=this._findTextNodes(t,"js-symbol-prev-close"),this._textNodes.dividends=this._findTextNodes(t,"js-symbol-dividends"),this._textNodes.priceEarnings=this._findTextNodes(t,"js-symbol-pe"),this._textNodes.volume=this._findTextNodes(t,"js-symbol-volume"),this._textNodes.high=this._findTextNodes(t,"js-symbol-high"),this._textNodes.low=this._findTextNodes(t,"js-symbol-low"),this._textNodes.currency=this._findTextNodes(t,"js-symbol-currency"),this._textNodes.lastPriceTime=this._findTextNodes(t,"js-symbol-lp-time"),this._textNodes.rtcTime=this._findTextNodes(t,"js-symbol-rtc-time"),this._elements.lastHighlight=this._options.lastPriceHighlightDiffOnly?this._elements.last.map((t=>this._appendAndGetNewElement(t,"span"))):this._elements.last,this._textNodes.lastHighlight=this._getOrCreateTextNodes(this._elements.lastHighlight),this._elements.lastSup=this._options.lastPriceLastCharSup?this._elements.lastHighlight.map((t=>this._appendAndGetNewElement(t,"sup"))):[],this._textNodes.lastSup=this._getOrCreateTextNodes(this._elements.lastSup)},Kt.prototype._findElements=function(t,e){var s=(0,Ot.isArray)(e)?e:[e];return Array.prototype.concat.apply([],s.map((e=>Array.prototype.slice.call(t.getElementsByClassName(e)))))},Kt.prototype._findTextNodes=function(t,e){return this._getOrCreateTextNodes(this._findElements(t,e))},Kt.prototype._getOrCreateTextNodes=function(t){return t.map((t=>{var e=this._getFirstTextNode(t);return e||(e=t.ownerDocument.createTextNode(""),t.appendChild(e)),e}))},Kt.prototype._appendAndGetNewElement=function(t,e){const s=document.createElement(e);return t.appendChild(s),s},Kt.prototype._getFirstTextNode=function(t){for(var e=t.childNodes,s=e.length-1;s>=0;s--)if(3===e.item(s).nodeType)return e.item(s);return null},Kt.prototype.connect=function(t){this._subscribed||(this._subscribedSymbol=t||this._symbol,this.quoteSession.subscribe(this._options.clientName,this._subscribedSymbol,this._quoteSessionEventHandler),this._subscribed=!0)},Kt.prototype.disconnect=function(){clearTimeout(this._connectTimeoutId),this._subscribed&&(this.quoteSession.unsubscribe(this._options.clientName,this._subscribedSymbol,this._quoteSessionEventHandler),this._subscribed=!1)},Kt.prototype.onData=function(t,e){
this.enabled&&("ok"===t.status?this.successData(t,e):"permission_denied"===t.status?this.onPermissionDenied(t):"error"===t.status&&this.errorData(t))},Kt.prototype.successData=function(t,e){t.values&&this.setState(t.values,t,e)},Kt.prototype.onPermissionDenied=function(t){(function(t){return!!t&&(!(void 0===t.symbolname||!Vt(t.symbolname))||Boolean("permission_denied"===t.status&&t.values&&void 0!==t.values.alternative&&Vt(t.values.alternative)))})(t)||function(t){var e;return!!t&&(zt(t.symbolname)||"permission_denied"===t.status&&zt(null===(e=t.values)||void 0===e?void 0:e.alternative))}(t)?this._options.permissionDeniedHook?this._options.permissionDeniedHook(t,this._symbolOriginal||this._symbol):this.errorData(t):this.downgradeData(t)},Kt.prototype.errorData=function(t){this._options.showInvalidSymbolStatus&&(this.setShortName(this._symbol),this._elements.sessionStatus.map((t=>new It({classSuffix:this._options.sessionStatusClassSuffix,el:t,data:{values:{current_session:"invalid"}},tooltipType:this._options.indicatorsTooltipType})))),this._options.noSuchSymbolHook?(this._symbolOriginal&&this.setShortName(this._symbolOriginal),this._options.noSuchSymbolHook.call(this,t,this._symbolOriginal||this._symbol)):qt.logWarn("No data for: "+this._symbol)},Kt.prototype.downgradeData=function(t){{const e=t&&t.values&&t.values.alternative,s=this._symbol===e;if(!(e&&-1!==e.indexOf(":"))||s)return void this.errorData(t);this._symbolOriginal=this._symbol,this._symbol=e,this._subscribed=!1,this.connect()}},Kt.prototype.setState=function(t,e,s){const i=s.values;this._isVolumeFormat="volume"===t.format,null==i.pricescale&&null==i.minmov&&null==i.fractional&&null==i.minmove2||(this._priceFormatter=this._customPriceFormatter||this._isVolumeFormat&&this._volumeFormatter||new Ht.PriceFormatter(t.pricescale||100,t.minmov||1,t.fractional,t.minmove2));const o=this._options,n=this._percentFormatter,r=this._priceFormatter,a=this._defaultPriceFormatter,l=this._volumeFormatter;i.timezone&&this._timeFormatter&&(this._timeFormatter.lastPrice&&this._timeFormatter.lastPrice.setTimezone(i.timezone),this._timeFormatter.rtc&&this._timeFormatter.rtc.setTimezone(i.timezone));const h=(t,e=!0)=>e?`(${t})`:t,c=void 0!==o.signPositiveChange?o.signPositiveChange:o.signPositive,d=t=>{const e=r.format(t,c,void 0,o.signNegative);return h(e,o.changeInBrackets)},p=t=>{const e=n.format(t,c,void 0,o.signNegative);return h(e,o.changePercentInBrackets)},u=r.format.bind(r),g=a.format.bind(a),m=l.format.bind(l),_=t=>null==t?Ft.PLACE_HOLDER:g(t);o.disableChange||(this._setNodesValue(this._textNodes.change,i.change,d),this._setNodesValue(this._textNodes.changePercent,i.change_percent,p),null!=i.change&&(o.dontDyePrice||this._setChangeFontColor([].concat(this._elements.change,this._elements.changePercent),i.change,o.changeUpFontColor,o.changeDownFontColor,o.changeNeutralFontColor),this._setChangeDirection(this._elements.changeDirection,i.change)),this._setNodesValue(this._textNodes.extHrsChange,i.rch,d),this._setNodesValue(this._textNodes.extHrsChangePercent,i.rchp,p),
null!=i.rch&&(o.dontDyePrice||this._setChangeFontColor([].concat(this._elements.extHrsChange,this._elements.extHrsChangePercent),i.rch,o.changeUpFontColor,o.changeDownFontColor,o.changeNeutralFontColor),this._setChangeDirection(this._elements.extHrsChangeDirection,i.rch))),this._setNodesValue(this._textNodes.prevClose,i.prev_close_price,u),this._setNodesValue(this._textNodes.dividends,t.dividends_yield,(t=>null==t?Ft.PLACE_HOLDER:n.format(t,o.signPositive,void 0,o.signNegative)),!0);let f=(0,jt.getTranslatedSymbolDescription)(i);if(f&&(f=this._prepareSymbolDescription(f),this._setTextsContent(this._elements.description,f),this._options.addDescriptionTitle))for(var b=0;b<this._elements.description.length;b++)this._elements.description[b].setAttribute("title",f);if((null!=i.short_name||null!=i.exchange)&&t.short_name){var v=t.short_name;"QUANDL"===t.exchange&&void 0!==t.short_name.split("/")[1]&&(v=t.short_name.split("/")[1]+", "+t.short_name.split("/")[0]),this.setShortName(v)}this._setLastValue(i.last_price,u),this._setNodesValue(this._textNodes.extHrsClose,i.rtc,u),i.rtc&&this._highlighters.extHrsClose.show(i.rtc),i.industry&&this._setTextsContent(this._elements.industry,t.industry,(t=>t)),i.sector&&this._setTextsContent(this._elements.sector,t.sector),this._elements.sessionStatus&&i.current_session&&(this._sessionStatusInstances?this._sessionStatusInstances.forEach((t=>t.setStatus(i.current_session))):this._sessionStatusInstances=this._elements.sessionStatus.map((e=>new It({classSuffix:this._options.sessionStatusClassSuffix,el:e,short:!0,data:{values:i},quoteSession:this.quoteSession,symbol:t.original_name,manualUpdate:!0,tooltipType:this._options.indicatorsTooltipType})))),this._setNodesValue(this._textNodes.open,i.open_price,u),this._setNodesValue(this._textNodes.high,i.high_price,u),this._setNodesValue(this._textNodes.low,i.low_price,u),this._setNodesValue(this._textNodes.eps,t.earnings_per_share_basic_ttm,_,!0),this._setNodesValue(this._textNodes.priceEarnings,t.price_earnings_ttm,_,!0),this._setNodesValue(this._textNodes.marketCap,t.market_cap_basic,m,!0),this._setNodesValue(this._textNodes.volume,t.volume,m,!0);const w=i.currency_code||i.value_unit_id;if(w&&this._setNodesValue(this._textNodes.currency,"PCT"===w?"%":w,null,!0),(i.lp_time||i.timezone&&t.lp_time)&&this._textNodes.lastPriceTime.length&&(this._timeFormatter&&this._timeFormatter.lastPrice?this._setNodesValue(this._textNodes.lastPriceTime,h(this._timeFormatter.lastPrice.format(t.lp_time),this._options.lastPriceTimeInBrackets)):qt.logError("last price time field requested with no formatter provided")),(i.rtc_time||i.timezone&&t.rtc_time)&&this._textNodes.rtcTime.length&&(this._timeFormatter&&this._timeFormatter.rtc?this._setNodesValue(this._textNodes.rtcTime,h(this._timeFormatter.rtc.format(t.rtc_time),this._options.rtcTimeInBrackets)):qt.logError("rtc time field requested with no formatter provided")),null!=i.last_price)for(b=0;b<this._elements.updateMode.length;b++)this._elements.updateMode[b].classList.remove("i-hidden")
;this._elements.updateMode&&(i.update_mode||i.update_mode_seconds)&&(this._updateModeInstances?this._updateModeInstances.forEach((e=>e.update({values:t}))):this._updateModeInstances=this._elements.updateMode.map((e=>new Rt.DataModeIndicator({classSuffix:this._options.dataModeClassSuffix,el:e,data:{values:t},modeInterval:t.update_mode_seconds,short:!0,tooltipType:this._options.indicatorsTooltipType})))),this._setStateHook&&this._setStateHook(e.values,s.values,e.complete),this._lastPrice?this._highlighters.last.show(t.last_price):null===this._lastPrice&&(this._container.classList.add("quote-ticker-inited"),"function"==typeof this._options.initedHook&&this._options.initedHook("last_price"in t)),this._lastPrice=t.last_price},Kt.prototype._setNodesValue=function(t,e,s,i){if(null!=e||i)for(var o="function"==typeof s?s(e):e,n=0;n<t.length;n++)t[n].nodeValue=o},Kt.prototype._setTextsContent=function(t,e,s){if(t&&t.length&&e)for(var i="function"==typeof s?s(e):e,o=0;o<t.length;o++)t[o].textContent=i},Kt.prototype._setLastValue=function(t,e){if(null==t)return;const s="function"==typeof e?e(t):String(t);if(s===this._lastPriceFormatted)return;const[i,o,n]=this._options.lastPriceHighlightDiffOnly?this._getLastValueStringDiff(this._lastPriceFormatted,s):["",s,""],r=i,[a,l]=this._options.lastPriceLastCharSup?[o.slice(0,-1),o.slice(-1)]:[o,""];this._options.lastPriceHighlightDiffOnly&&(this._isVolumeFormat&&this._changeVolumeLetter.call(this,n),this._setNodesValue(this._textNodes.last,r)),this._setNodesValue(this._textNodes.lastHighlight,a),this._setNodesValue(this._textNodes.lastSup,l),this._lastPriceFormatted=s},Kt.prototype._getChangeVolumeLetterCallback=function(){let t;return function(e){e!==t&&(t=e,this._elements.last.forEach((e=>{3!==e.childNodes.length?e.appendChild(document.createTextNode(t)):e.childNodes[2].nodeValue=t})))}},Kt.prototype._getLastValueStringDiff=function(t,e){if(t===e){const[t,s]=Qt(e);return[t,"",s]}let s=0;for(;t[s]===e[s];)s++;const[i,o]=Qt(e.slice(s));return[e.slice(0,s),i,o]},Kt.prototype._setChangeFontColor=function(t,e,s,i,o){for(var n=bt.formatSign(e,{up:s,down:i,neutral:o}),r=0;r<t.length;r++)t[r].style.color=n},Kt.prototype._setChangeDirection=function(t,e){for(var s=0;s<t.length;s++){var i=t[s].classList;i.toggle(this._options.changeDirectionUpClass,e>0),i.toggle(this._options.changeDirectionDownClass,e<0),i.toggle(this._options.changeDirectionNeutralClass,0===e)}},Kt.prototype.setShortName=function(t=""){this._setTextsContent(this._elements.shortName,t)},Kt.prototype._prepareSymbolDescription=function(t){var e=this._getCache("symbol-description:"+t);return e||(e=t,this._setCache("symbol-description:"+t,e),e)},Kt.prototype._initHighlighters=function(){this._highlighters.last=new Zt(this._elements.lastHighlight,this._options.growingBg,this._options.fallingBg,this._options.lastGrowingClass,this._options.lastFallingClass),this._highlighters.extHrsClose=new Zt(this._elements.extHrsClose,this._options.growingBg,this._options.fallingBg,this._options.lastGrowingClass,this._options.lastFallingClass)},
Kt.prototype.disable=function(){this.enabled=!1,this.disconnect()},Kt.prototype.enable=function(){this.enabled=!0,this.connect()},Kt.prototype.setStateHook=function(t){null===t&&this._setStateHook?delete this._setStateHook:"function"==typeof t&&(this._setStateHook=t)},Kt.prototype._setCache=function(t,e){null==e?delete this._cache[t]:this._cache[t]=e},Kt.prototype._getCache=function(t){return this._cache&&this._cache[t]};var Jt=s(401580),te=s(606311),ee=s(62802),se=s(960116),ie=s(894065),oe=s(39654),ne=(s(521395),s(383906),s(823127)),re=s(213398);const ae=(0,Dt.getLogger)("WidgetWatchlist"),le=["symbolActiveColor","symbolShortNameColor","symbolDescriptionColor","symbolSeparatorColor","tabActiveColor","tabInactiveColor","tabSliderColor","changeUpColor","changeDownColor","changeNeutralColor","lastColor","lastGrowingFlashColor","lastFallingFlashColor"],he=["plotLineColor","plotLineColorGrowing","plotLineColorFalling","gridLineColor","scaleFontColor","belowLineFillColorGrowing","belowLineFillColorFalling","belowLineFillColorGrowingBottom","belowLineFillColorFallingBottom","lastPriceLineColor","lastPriceLineColorGrowing","lastPriceLineColorFalling"];class ce{constructor(t,e){if(this._symbols=[],this._chart=null,this._symbol=null,this._started=!1,this._hasDataPromise=null,t&&t.length||(ae.logError("`$el` is required"),(0,i.assert)(Boolean(t&&t.length),"`$el` is required")),this.$el=t,this.$chart=t.find(".js-chart").eq(0),this.$symbolsWrapper=t.find(".js-symbols-wrapper").eq(0),this.hasChart=!!this.$chart.length,this.settings=this.transferSettings(e),this.showDataMode=!(!1===this.settings.showDataMode),this.showMarketStatus=!(!1===this.settings.showMarketStatus),this.chartColorMap=this.settings.chartColorMap,this.widgetColorClassMap=this.settings.widgetColorClassMap,"hotlists"===this.settings.widgetName||this.settings.isEmbedWidget){this._symbols=this.$el.data("symbols");this.$el.find(".js-symbols-wrapper").find(".js-symbols-body").append(this._renderPage())}this.settings.isEmbedWidget&&this.adjustToAvailableSizes(),this.start()}transferSettings(t){const e=t.utmInfo?ne.param(t.utmInfo):void 0;let s;if(t.largeChartUrl){s=t.largeChartUrl;s.match(/^https?:\/\//)||(s="http://"+s)}return{chartColorMap:Object.assign({},this.defaultChartColors,t.chartColorMap),customer:t.customer,dateRange:t.dateRange,dateRangeOptions:t.dateRangeOptions,disableLastFallingFlash:Boolean(t.disableLastFallingFlash),disableLastGrowingFlash:Boolean(t.disableLastGrowingFlash),hideAbsoluteChange:Boolean(t.hideAbsoluteChange),indexNameBold:t.indexNameBold,indexNonClickable:t.indexNonClickable,isEmbedWidget:t.isEmbedWidget,largeChartUrl:s,noLinks:t.noLinks,onlyDescription:t.onlyDescription,paintLastWithChangeColors:Boolean(t.paintLastWithChangeColors),showDataMode:t.showDataMode,showMarketStatus:t.showMarketStatus,showTitles:t.showTitles,tradingviewBaseUrl:t.tradingviewBaseUrl,utmStringified:e,valueBold:t.valueBold,valueTitleMarked:t.valueTitleMarked,widgetColorClassMap:Object.assign({},t.widgetColorClassMap),widgetName:t.widgetName,
showSymbolLogo:t.showSymbolLogo,locale:t.locale,showFloatingTooltip:t.showFloatingTooltip,colorTheme:t.colorTheme}}get $symbols(){return this.$el.find(".js-quote-ticker")}set symbols(t){let e,s;const i=this._symbols.map((t=>t.s)),o=t.map((t=>t.s)),n=(t,s)=>ne(s).data("symbol")===e;if(i&&i.toString()!==o.toString()){const r={},a=[],l=[];for(let t=0;t<i.length;t++){e=i[t];const l=o.indexOf(e),h=t,c=this.$symbols.filter(n);l!==h&&a.push(e),-1===l?(this._stopSymbolRow(c),this._symbol===e&&(s=o[h])):r[e]=c.detach()}const h=this.$el.find(".js-symbols-wrapper").find(".js-symbols-body");h.empty(),this.settings.showTitles&&h.append(this._renderTitle()),o.forEach((t=>{t in r?h.append(r[t]):(a.push(t),l.push(t),this._renderSymbol({s:t})),s&&s===t&&(this.symbol=s)})),this._symbols=t,this.$symbols.each(((t,e)=>{const s=ne(e),i=s.data("symbol");-1!==a.indexOf(i)&&(s.addClass("tv-site-table__row--updated"),setTimeout((()=>s.removeClass("tv-site-table__row--updated")),2*yt.dur)),-1!==l.indexOf(i)&&this._startSymbolRow(s)}))}}get defaultChartColors(){return{gridLineColor:(0,Tt.generateColor)(vt.colorsPalette["color-widget-border"],100),scaleFontColor:(0,Tt.generateColor)(vt.colorsPalette["color-text-secondary"]),plotLineColor:(0,Tt.generateColor)(vt.colorsPalette["color-brand"]),plotLineColorGrowing:void 0,plotLineColorFalling:void 0,belowLineFillColorGrowing:(0,Tt.generateColor)(vt.colorsPalette["color-tv-blue-500"],82),belowLineFillColorFalling:(0,Tt.generateColor)(vt.colorsPalette["color-tv-blue-500"],82),belowLineFillColorGrowingBottom:(0,Tt.generateColor)(vt.colorsPalette["color-tv-blue-500"],100),belowLineFillColorFallingBottom:(0,Tt.generateColor)(vt.colorsPalette["color-tv-blue-500"],100),lastPriceLineColor:(0,Tt.generateColor)(vt.colorsPalette["color-brand"],50),lastPriceLineColorGrowing:void 0,lastPriceLineColorFalling:void 0}}get pageTemplates(){return{page:"\n\t\t\t\t{{#showTitles}}\n\t\t\t\t\t{{>title}}\n\t\t\t\t{{/showTitles}}\n\t\t\t\t{{#symbols}}\n\t\t\t\t\t{{>symbol}}\n\t\t\t\t{{/symbols}}",symbol:`\n\t\t\t\t<div class="tv-widget-watch-list__row js-quote-ticker tv-site-table__row {{#showChart}} tv-site-table__row--interactive tv-widget-watch-list__row--interactive{{/showChart}}{{#updated}} tv-site-table__row--updated{{/updated}}" data-symbol="{{ s }}" data-description="{{ description }}">\n\t\t\t\t\t<div class="tv-site-table__column tv-widget-watch-list__main-column{{#symbolColumnClass}} {{symbolColumnClass}}{{/symbolColumnClass}}">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__icon js-symbol-logo">\n\t\t\t\t\t\t\t${this.settings.showSymbolLogo&&(0,Ct.getCircleLogoAnyHtml)({logoUrls:[],size:"medium"
})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-widget-watch-list__name">\n\t\t\t\t\t\t\t<div class="tv-widget-watch-list__ticker">\n\t\t\t\t\t\t\t\t{{^noLinks}}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref="{{^largeChartUrl}}{{ symbolUrl }}{{/largeChartUrl}}{{#largeChartUrl}}{{ largeChartUrl }}{{/largeChartUrl}}"\n\t\t\t\t\t\t\t\t\t\t{{#isEmbedWidget}}target="_blank"{{/isEmbedWidget}}\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t{{#noLinks}}\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t\t\tdata-symbol="{{ s }}"\n\t\t\t\t\t\t\t\t\t\tclass="\n\t\t\t\t\t\t\t\t\t\t\ttv-widget-watch-list__short-name\n\t\t\t\t\t\t\t\t\t\t\tapply-overflow-tooltip\n\t\t\t\t\t\t\t\t\t\t\tjs-symbol-link\n\t\t\t\t\t\t\t\t\t\t\t{{#indexNameBold}}tv-widget-watch-list__short-name--bold{{/indexNameBold}}\n\t\t\t\t\t\t\t\t\t\t\t{{#noLinks}}tv-widget-watch-list__short-name--not-clickable{{/noLinks}}\n\t\t\t\t\t\t\t\t\t\t\t{{#onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t\ttv-widget-watch-list__short-name--whole-height\n\t\t\t\t\t\t\t\t\t\t\t\t{{^description}}js-symbol-description-name{{/description}}\n\t\t\t\t\t\t\t\t\t\t\t\t{{#descriptionClass}}{{descriptionClass}}{{/descriptionClass}}\n\t\t\t\t\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t{{^onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t\t{{#shortNameClass}}{{shortNameClass}}{{/shortNameClass}}\n\t\t\t\t\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{^onlyDescription}}{{ shortName }}{{/onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t{{#onlyDescription}}\n\t\t\t\t\t\t\t\t\t\t\t{{#description}}{{ description }}{{/description}}\n\t\t\t\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t\t\t{{^noLinks}}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t{{#noLinks}}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{{/noLinks}}\n\t\t\t\t\t\t\t\t{{#showDataMode}}\n\t\t\t\t\t\t\t\t\t<span class="tv-data-mode--watch-list js-data-mode"></span>\n\t\t\t\t\t\t\t\t{{/showDataMode}}\n\t\t\t\t\t\t\t\t{{#showMarketStatus}}\n\t\t\t\t\t\t\t\t\t<span class="tv-market-status--watch-list js-market-status"></span>\n\t\t\t\t\t\t\t\t{{/showMarketStatus}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{^onlyDescription}}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span class="tv-widget-watch-list__description{{^isEmbedWidget}} tv-widget-watch-list__description--uppercase{{/isEmbedWidget}} apply-overflow-tooltip{{^description}} js-symbol-description-name{{/description}}{{#descriptionClass}} {{descriptionClass}}{{/descriptionClass}}">\n\t\t\t\t\t\t\t\t\t{{#description}}{{ description }}{{/description}}{{^description}}&nbsp;{{/description}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/onlyDescription}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tv-widget-watch-list__quote-column tv-site-table__column tv-site-table__column--align_right tv-site-table__column--last-phone-vertical{{#symbolColumnClass}} {{symbolColumnClass}}{{/symbolColumnClass}}">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__last-wrap">\n\t\t\t\t\t\t\t<div class="tv-widget-watch-list__last{{#valueBold}} tv-widget-watch-list__last--bold{{/valueBold}}{{#lastClass}} {{lastClass}}{{/lastClass}}{{#lastDirection}} js-symbol-change-direction{{/lastDirection}} js-symbol-last apply-overflow-tooltip">\n\t\t\t\t\t\t\t\t{{#last}}{{ last }}{{/last}}{{^last}}&nbsp;{{/last}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-widget-watch-list__change{{#hideAbsoluteChange}} tv-widget-watch-list__change--whole-height{{/hideAbsoluteChange}} apply-overflow-tooltip js-symbol-change-direction">\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__change-inline{{#hideAbsoluteChange}} tv-widget-watch-list__change-inline--whole-height{{/hideAbsoluteChange}} js-symbol-change-pt">\n\t\t\t\t\t\t\t\t{{#change_pt}}{{ change_pt }}{{/change_pt}}{{^change_pt}}&nbsp;{{/change_pt}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{^hideAbsoluteChange}}\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__change-inline js-symbol-change">\n\t\t\t\t\t\t\t\t{{#change}}{{ change }}{{/change}}{{^change}}&nbsp;{{/change}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{/hideAbsoluteChange}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`,
title:'\n\t\t\t\t<div class="tv-site-table__row js-symbols-titles">\n\t\t\t\t\t<div class="tv-site-table__column tv-widget-watch-list__main-column tv-widget-watch-list__main-column--title">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__name">\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__title tv-widget-watch-list__short-name--whole-height apply-overflow-tooltip">Index</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tv-widget-watch-list__quote-column tv-widget-watch-list__quote-column--title tv-site-table__column tv-site-table__column--align_right tv-site-table__column--last-phone-vertical">\n\t\t\t\t\t\t<div class="tv-widget-watch-list__last apply-overflow-tooltip tv-widget-watch-list__title">\n\t\t\t\t\t\t\tValue{{#valueTitleMarked}}*{{/valueTitleMarked}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-widget-watch-list__change tv-widget-watch-list__title apply-overflow-tooltip">\n\t\t\t\t\t\t\t<span class="tv-widget-watch-list__change-inline">Change</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>'}}set symbol(t){if(this._symbol=t,this._chart&&this._chart.changeSymbol(t,this._getSeriesOptions()),this.hasChart){const e=B()("tv-site-table__row--highlighted tv-widget-watch-list__row--highlighted",this.widgetColorClassMap.symbolActiveColor);this.$symbols.removeClass(e).filter(((e,s)=>ne(s).data("symbol")===t)).addClass(e)}else this.$symbols.filter(((e,s)=>ne(s).data("symbol")===t))}get symbol(){return this._symbol||""}start(){this._started||(this.symbol||(this.symbol=this.$symbols.eq(0).data("symbol")),this.hasChart&&(this._bindSymbolClick(),this._startChart()),this._startSymbolRows(),this._started=!0)}stop(){this._started&&(this._unbindSymbolClick(),this._stopChart(),this._stopSymbolRows(),this._started=!1)}hasData(){if(null===this._hasDataPromise){const t=[];this.$symbols.each(((e,s)=>{const i=ne(s).data("watchlist-widget__symbol-row");t.push(i.hasData())})),this._hasDataPromise=Promise.all(t).then((t=>t.some((t=>t))))}return this._hasDataPromise}adjustToAvailableSizes(){var t;const e=(0,i.ensureNotNull)(document.querySelector(".js-watchlist-widget")),s=(0,i.ensureNotNull)(document.querySelector(".js-quote-ticker"));let o=(0,i.ensureNotNull)(e.parentElement).offsetHeight-e.offsetHeight,n=this.hasChart?this.$chart[0].offsetHeight:0,r=this.$symbolsWrapper[0].offsetHeight,a=this.$symbolsWrapper[0].scrollHeight-r;if(0===o&&0===a)return;const l=s.offsetHeight;let h=0;o>0&&a>0?h=Math.min(a,o/2):o<0&&(h=this.hasChart?Math.max(Math.floor(o/2),l-r):o),r+=h,a-=h,o-=h,this.hasChart&&(n+=o,o=0),this.hasChart&&a>0&&a<Math.floor(n/4)&&(n-=a,r+=a),this.hasChart&&n<100&&(r-=100-n,n=100),this.$symbolsWrapper[0].style.height=r+"px",this.hasChart&&(this.$chart[0].style.height=n+"px",null===(t=this._chart)||void 0===t||t.resizeByContainer())}_bindSymbolClick(){this.$el.on("click",".js-quote-ticker",(t=>{this.symbol=ne(t.currentTarget).data("symbol")}))}_unbindSymbolClick(){this.$el.off("click",".js-quote-ticker")}_getSymbolDataToRender(t){
const[e,s]=t.s.split(":"),i=t.t||s,o=this.settings.largeChartUrl&&(0,xt.makeTemplateSymbolUrl)(this.settings.largeChartUrl,{shortName:s,exchange:e})||"",n=(0,xt.makeSymbolPageUrl)({shortName:s,exchange:e},this.settings.utmInfo),r=t.d;return{s:t.s,description:r,exchange:e,shortName:i,symbolUrl:n,showChart:this.hasChart,onlyDescription:this.settings.onlyDescription,isEmbedWidget:this.settings.isEmbedWidget,utmStringified:this.settings.utmStringified,largeChartUrl:o,tradingviewBaseUrl:this.settings.tradingviewBaseUrl,showDataMode:this.showDataMode,showMarketStatus:this.showMarketStatus,indexNameBold:this.settings.indexNameBold,valueBold:this.settings.valueBold,shortNameClass:this.widgetColorClassMap.symbolShortNameColor,descriptionClass:this.widgetColorClassMap.symbolDescriptionColor,symbolColumnClass:this.widgetColorClassMap.symbolSeparatorColor,lastClass:this.widgetColorClassMap.lastColor,lastDirection:this.settings.paintLastWithChangeColors,hideAbsoluteChange:this.settings.hideAbsoluteChange,noLinks:this.settings.noLinks}}_renderSymbol(t){return re.render(this.pageTemplates.symbol,this._getSymbolDataToRender(t))}_renderPage(){const t=[];return this._symbols.forEach((e=>t.push(this._getSymbolDataToRender(e)))),re.render(this.pageTemplates.page,{symbols:t,showTitles:this.settings.showTitles,showDataMode:this.showDataMode,showMarketStatus:this.showMarketStatus,valueTitleMarked:this.settings.valueTitleMarked},this.pageTemplates)}_renderTitle(){return re.render(this.pageTemplates.title,{valueTitleMarked:this.settings.valueTitleMarked})}_startChart(){if(this._chart)return void this._chart.enable();if(!this.symbol)return;const t=this.settings.showFloatingTooltip,e=this._getSeriesOptions();let s;if(t){const t="dark"===this.settings.colorTheme?vt.colorsPalette["color-cold-gray-700"]:vt.colorsPalette["color-cold-gray-200"];s={vertLine:{visible:!0,style:ie.LineStyle.Solid,width:1,color:t},mode:ie.CrosshairMode.Magnet}}const i=(0,Lt.getMiniTimeFrameOptions)().filter((t=>!this.settings.dateRangeOptions||this.settings.dateRangeOptions.includes(t.value.value)));this._chart=new Pt.LightweightMiniChart({symbol:this.symbol},this.$chart.get(0),null,{timeframe:{visible:!0,container:this.$el.find(".js-timeframes").get(0),value:this.settings.dateRange,options:i,size:"xsmall"},valuesTracking:t?"1":"0",chartOptions:{minWidth:this.$chart.width(),minHeight:this.$chart.height(),chart:{grid:{horzLines:{visible:!0,color:this.chartColorMap.gridLineColor,style:ie.LineStyle.Dotted}},crosshair:s,layout:{textColor:this.chartColorMap.scaleFontColor,fontSize:12},localization:{locale:(0,oe.getIsoLanguageCodeFromLanguage)(this.settings.locale)},rightPriceScale:{visible:!1}},series:e,loading:{spinner:{visible:!0}}}})}_stopChart(){this._chart&&this._chart.disable()}_getSeriesOptions(){return{chartType:"area",lineColor:this.chartColorMap.plotLineColor,growingLineColor:this.chartColorMap.plotLineColorGrowing,fallingLineColor:this.chartColorMap.plotLineColorFalling,lineWidth:2,growingTopColor:this.chartColorMap.belowLineFillColorGrowing,
fallingTopColor:this.chartColorMap.belowLineFillColorFalling,growingBottomColor:this.chartColorMap.belowLineFillColorGrowingBottom,fallingBottomColor:this.chartColorMap.belowLineFillColorFallingBottom,crosshairMarkerVisible:this.settings.showFloatingTooltip,crosshairMarkerRadius:3.5,crosshairMarkerBorderColor:"dark"===this.settings.colorTheme?vt.colorsPalette["color-cold-gray-850"]:vt.colorsPalette["color-white"],scaleMargins:{top:.01,bottom:.05}}}_startSymbolRows(){this.$symbols.each(((t,e)=>{this._startSymbolRow(ne(e))}))}_startSymbolRow(t){const e=t.data("watchlist-widget__symbol-row");e?e.start():t.data("watchlist-widget__symbol-row",new de(t,{tradingviewBaseUrl:this.settings.tradingviewBaseUrl,largeChartUrl:this.settings.largeChartUrl,isEmbedWidget:this.settings.isEmbedWidget,directionUpClass:this.widgetColorClassMap.changeUpColor,directionDownClass:this.widgetColorClassMap.changeDownColor,directionNeutralClass:this.widgetColorClassMap.changeNeutralColor,lastGrowingClass:this.settings.disableLastGrowingFlash?null:this.widgetColorClassMap.lastGrowingFlashColor,lastFallingClass:this.settings.disableLastFallingFlash?null:this.widgetColorClassMap.lastFallingFlashColor,noLinks:this.settings.noLinks,showSymbolLogo:this.settings.showSymbolLogo}))}_stopSymbolRows(){this.$symbols.each(((t,e)=>{this._stopSymbolRow(ne(e))}))}_stopSymbolRow(t){const e=t.data("watchlist-widget__symbol-row");e&&e.stop()}}class de{constructor(t,e){this._hasData=new Jt.WatchedValue,this._setSymbolLinkCompleted=!1,t&&t.length||(ae.logError("`$el` is required"),(0,i.assert)(Boolean(t&&t.length),"`$el` is required")),this.$el=t,this.symbol=t.data("symbol"),this.description=t.data("description"),this.start(),this._largeChartUrl=e.largeChartUrl||"",this._utmInfo=e.utmInfo||{},this._isEmbedWidget=!!e.isEmbedWidget,this._noLinks=e.noLinks,this._showSymbolLogo=e.showSymbolLogo;const s=(0,k.pickFields)(e,["directionUpClass","directionDownClass","directionNeutralClass","lastGrowingClass","lastFallingClass"]);this._directionUpClass=s.directionUpClass,this._directionDownClass=s.directionDownClass,this._directionNeutralClass=s.directionNeutralClass,this._lastGrowingClass=s.lastGrowingClass,this._lastFallingClass=s.lastFallingClass,this._setSymbolLogo=(0,St.getLogoUrlsHook)((t=>{const e=this.symbol.split(":")[1],s=(this.description||e||"")[0];(0,i.ensureNotNull)(this.$el[0].querySelector(".js-symbol-logo")).innerHTML=(0,Ct.getCircleLogoAnyHtml)({logoUrls:t,size:"medium",placeholderLetter:s})}))}start(){this._startQuoteTicker().then((()=>{this._startMarketStatus()})).catch((t=>ae.logError(`${t.exchange} ${t.reason}`)))}stop(){this._stopQuoteTicker(),this._stopMarketStatus()}hasData(){return void 0===this._hasData.value()?new Promise((t=>{this._hasData.subscribe(t,{once:!0})})):Promise.resolve(this._hasData.value())}_startMarketStatus(){if(this.$el.find(".js-market-status")[0]){const t=new It({classSuffix:"--for-watch-list",el:this.$el.find(".js-market-status")[0],short:!0,symbol:this.symbol});t.start(),this.$el.data("market-status",t)}
const t=this.$el.find(".js-data-mode")[0];if(t){const e=new Rt.DataModeIndicator({classSuffix:"--for-watch-list",el:t,short:!0,symbol:this.symbol});e.start(),this.$el.data("data-mode",e)}}_stopMarketStatus(){const t=this.$el.data("market-status"),e=this.$el.data("data-mode");t&&t.stop(),e&&e.stop()}_showSFWarning(){var t;const e=this.$el.get(0);if(e.getElementsByClassName("js-exclamationed-symbol").length)return;const s=document.createElement("span");s.classList.add("tv-widget-watch-list__symbol-exclamation-mark","js-exclamationed-symbol","apply-common-tooltip"),s.setAttribute("title",(0,kt.getWarningTextForFreeUsers)());const o=e.getElementsByClassName("js-symbol-link").item(0);o&&(o.appendChild(s),null===(t=window.loginStateChange)||void 0===t||t.subscribe(null,(()=>{if(window.is_authenticated){const t=e.getElementsByClassName("js-exclamationed-symbol");for(;t.length>0;)(0,i.ensureNotNull)(t[0].parentNode).removeChild(t[0])}})))}_startQuoteTicker(){let t=this.$el.data("quote-ticker");if(t)return t.enable(),Promise.resolve(t);const e=this._showSFWarning.bind(this),s=(t,e,s)=>{this._setSymbolLinkCompleted||this._noLinks||this._setSymbolLink(t),this._showSymbolLogo&&this._setSymbolLogo(t,e,s)};return new Promise(((i,o)=>{(0,Et.check)(this.symbol,!1).then((o=>{const n={dontDyePrice:!0,addDescriptionTitle:!1,signPositive:!0,changePercentInBrackets:!1,setStateHook:s,changeDirectionUpClass:this._directionUpClass||void 0,changeDirectionDownClass:this._directionDownClass||void 0,changeDirectionNeutralClass:this._directionNeutralClass||void 0,lastGrowingClass:this._lastGrowingClass||void 0,lastFallingClass:this._lastFallingClass||void 0,initedHook:()=>{this._hasData.setValue(!0)},noSuchSymbolHook:()=>{this._hasData.setValue(!1)},permissionDeniedHook:()=>{this._hasData.setValue(!1),e()}};t=new Kt(o,this.$el.get(0),n),this.$el.data("quote-ticker",t),i(t)})).catch((t=>{this._hasData.setValue(!1),e(),o(t)}))}))}_setSymbolLink(t){const e=t.short_name,s=t.exchange,i=t.pro_name,o=t.type;if(!(e&&s&&i&&o))return;const n=this.$el[0].getElementsByClassName("js-symbol-link")[0],r=this._largeChartUrl&&this._isEmbedWidget,a={shortName:e,exchange:s,proName:i,type:o};n.href=r?(0,xt.makeTemplateSymbolUrl)(this._largeChartUrl,a):(0,xt.makeSymbolPageUrl)(a,this._utmInfo),this._setSymbolLinkCompleted=!0}_stopQuoteTicker(){const t=this.$el.data("quote-ticker");t&&t.disable()}}var pe=s(120780),ue=s(913345);const ge=s(594666),me=s(770812),_e={},fe=new Map([["uae",()=>s.tf(null,void 0,s(975308))]]);for(const t of me){const e=ge[t];if(e.screenerName){const s=fe.has(e.screenerName)?fe.get(e.screenerName):()=>(0,ue.triesTranslateCountrieName)(e.title);_e[e.screenerName]={flag:t,get title(){return s()},stocks:e.exchangesStocks||[],timezone:e.screenerTimezone,group:e.group,country:t}}}const be={forex:"forex",cfd:"cfd",crypto:"crypto"};for(const t of me){const e=ge[t];e.screenerName&&(be[e.tvLocale||t]=e.screenerName)}const ve=s(161379),we={forex:{icon:`<span class="tv-screener-market-select__item-forex">${s(890756)}</span>`,get title(){
return s.tf(null,void 0,s(324241))},stocks:[]}},ye={crypto:{icon:`<span class="tv-screener-market-select__item-bitcoin">${ve}</span>`,get title(){return s.tf(null,void 0,s(637909))},stocks:[]}};const Ce=JSON.parse('{"US":"stocks-usa","ADX":"stocks-uae","AMEX":"stocks-usa","ATHEX":"stocks-greece","EURONEXT_BRU":"stocks-belgium","ASX":"stocks-australia","BAHRAIN":"stocks-bahrain","BCBA":"stocks-argentina","BCS":"stocks-chile","BELEX":"stocks-serbia","BET":"stocks-hungary","BER":"stocks-germany","BIST":"stocks-turkey","BME":"stocks-spain","BMFBOVESPA":"stocks-brazil","BMV":"stocks-mexico","BVMT":"stocks-tunisia","BSE":"stocks-india","BSSE":"stocks-slovakia","BVC":"stocks-colombia","BVL":"stocks-peru","BVB":"stocks-romania","BVCV":"stocks-venezuela","BX":"stocks-switzerland","CSE":"stocks-canada","CSECY":"stocks-cyprus","CSELK":"stocks-sri-lanka","CSEMA":"stocks-morocco","DFM":"stocks-uae","DSEBD":"stocks-bangladesh","DUS":"stocks-germany","OMXCOP":"stocks-denmark","OMXTSE":"stocks-estonia","OMXHEX":"stocks-finland","EGX":"stocks-egypt","EURONEXT":"stocks-europe","EURONEXT_PAR":"stocks-france","EURONEXT_AMS":"stocks-netherlands","EURONEXT_LIS":"stocks-portugal","FWB":"stocks-germany","GPW":"stocks-poland","HAN":"stocks-germany","HKEX":"stocks-hong-kong","HNX":"stocks-vietnam","HOSE":"stocks-vietnam","IDX":"stocks-indonesia","JSE":"stocks-south-africa","LSE":"stocks-united-kingdom","LSIN":"stocks-united-kingdom","MIL":"stocks-italy","MOEX":"stocks-russia","MYX":"stocks-malaysia","MUN":"stocks-germany","TRADEGATE":"stocks-germany","GETTEX":"stocks-germany","NAG":"stocks-japan","NASDAQ":"stocks-usa","NEO":"stocks-canada","NEWCONNECT":"stocks-poland","NGM":"stocks-sweden","NSE":"stocks-india","NSENG":"stocks-nigeria","NSEKE":"stocks-kenya","NYSE":"stocks-usa","NZX":"stocks-new-zealand","KRX":"stocks-korea","KSE":"stocks-kuwait","OTC":"stocks-usa","OMXICE":"stocks-iceland","OMXRSE":"stocks-latvia","OMXSTO":"stocks-sweden","OMXVSE":"stocks-lithuania","LUXSE":"stocks-luxembourg","OSL":"stocks-norway","PSE":"stocks-philippines","PSECZ":"stocks-czech","PSX":"stocks-pakistan","QSE":"stocks-qatar","SGX":"stocks-singapore","SIX":"stocks-switzerland","SWB":"stocks-germany","SZSE":"stocks-china","SSE":"stocks-china","SET":"stocks-thailand","TADAWUL":"stocks-ksa","TASE":"stocks-israel","TPEX":"stocks-taiwan","TSE":"stocks-japan","TSX":"stocks-canada","TSXV":"stocks-canada","TWSE":"stocks-taiwan","UPCOM":"stocks-vietnam","VIE":"stocks-austria","XETR":"stocks-germany"}'),Se=s(201089).getLogger("HotLists.Manager"),Ee="US",ke=s(594666),Te={};for(const[t,e]of Object.entries(ke)){const s=e.exchangesForHotlist||e.exchangesStocks;if(s)for(const e of s)Te[e]=t}var xe=s(823127),Le=s(213398);const Ne=(0,Dt.getLogger)("HotLists.Widget"),Pe=new class{constructor(){this.metainfoUrl=window.HOTLISTS_URL+"metainfo/",this.hotlistUrl=window.HOTLISTS_URL+"hotlist/"}get _emptyFlagId(){return"mock"}get sortOptions(){return{percent_change_loosers:{rule:"increase",field:"change_percent"},percent_change_gainers:{rule:"decrease",field:"change_percent"}}}
get groupsTitlesMap(){return{volume_gainers:D.t(null,void 0,s(178025)),percent_change_gainers:D.t(null,void 0,s(329801)),percent_change_loosers:D.t(null,void 0,s(212669)),percent_range_gainers:D.t(null,void 0,s(235653)),percent_range_loosers:D.t(null,void 0,s(931339)),gap_gainers:D.t(null,void 0,s(918612)),gap_loosers:D.t(null,void 0,s(577436)),percent_gap_gainers:D.t(null,void 0,s(829181)),percent_gap_loosers:D.t(null,void 0,s(552004))}}get compilations(){return{US:D.t(null,void 0,s(188405))}}get availableExchanges(){if(!this._availableExchanges){const t=Object.keys(Te);this._availableExchanges=this.sortExchanges(t)}return this._availableExchanges}sortExchanges(t){return t.sort(((t,e)=>"US"===t&&"US"!==e?-1:"US"!==t&&"US"===e||"AMEX"===t&&"NYSE"===e?1:"NYSE"===t&&"AMEX"===e||"us"===this.getExchangeFlag(t)&&"us"!==this.getExchangeFlag(e)?-1:"us"!==this.getExchangeFlag(t)&&"us"===this.getExchangeFlag(e)?1:this.getExchangeFullName(t).localeCompare(this.getExchangeFullName(e))))}isExchangeDistributed(t){return Boolean(Te[t])}getOneHotlist(t,e,s){const i=(0,pe.fetch)(`${this.hotlistUrl}${t}/${e}/`).then((t=>t.json())).then((t=>{let i=t.symbols;return s&&(i=t.symbols.slice(0,s)),this.sortOptions[e]?this.sortSymbolsByPercentChange(i,this.sortOptions[e].rule):i}));return i.catch((t=>{Se.logError(`Error while recieving hotlist: ${t}`)})),i}sortSymbolsByPercentChange(t,e){let s,i=!1;const o=new Promise(((e,o)=>{s=setTimeout((()=>{i=!0,e(t)}),2e3)})),n=t.map((t=>new Promise(((e,s)=>{const o=(0,Ut.getQuoteSessionInstance)("simple"),n=s=>{const r=s&&s.values&&s.values.change_percent;r&&(t.chp=s.values.change_percent),(r||i)&&(o.unsubscribe("hotlists-manager",t.s,n),e(t))};o.subscribe("hotlists-manager",t.s,n)})))),r=Promise.all(n);return Promise.race([o,r]).then((t=>(i||(clearTimeout(s),t.sort(((t,s)=>"decrease"===e?s.chp-t.chp:"increase"===e?t.chp-s.chp:0))),t)))}getExchangeName(t){const e={AMEX:"NYSE ARCA",EURONEXT_BRU:"EURONEXTBRU",EURONEXT_PAR:"EURONEXTPAR",EURONEXT_AMS:"EURONEXTAMS",EURONEXT_LIS:"EURONEXTLIS",BCBA:"BYMA",OSL:"EURONEXTOSE"}[t]||t;return this.compilations[t]?this.compilations[t]:e}getExchangeFullName(t){const e=this.getExchangeName(t);return`${this.getExchangeCountryName(e)} (${e})`}getExchangeFlag(t){return Te[t]||this._emptyFlagId}getExchangeCountryName(t){const e="stock"===(s="stock")?_e:"forex"===s?we:"crypto"===s?ye:_e;var s;if("US Exchanges"===t)return e.america.title;for(const s in e)if(e[s].stocks.includes(t))return e[s].title;return""}getExchangeStockMarket(t){return Ce[t]||Ce.US}getStockMarketUrl(t,e=""){let s=`/markets/${this.getExchangeStockMarket(t)}/${e}`;return e&&(s+="/"),s}isFlagEmpty(t){return t===this._emptyFlagId}},Me={volume_gainers:{title:D.t(null,void 0,s(599045)),href:"market-movers-active"},percent_change_gainers:{title:D.t(null,void 0,s(356751)),href:"market-movers-gainers"},percent_change_loosers:{title:D.t(null,void 0,s(600723)),href:"market-movers-losers"}};const De=Object.assign({},window.initData.widget_defaults);De.whitelabel=Boolean(window.initData.widgetDefaults.whitelabel)
;const Oe=(0,C.parseUrlHashParams)(),Be=De;"showChart"in Oe&&(Be.show_chart=Oe.showChart),Be.customer=window.TradingView.widgetCustomer,"showSymbolLogo"in Oe&&(Be.showSymbolLogo=Boolean(Oe.showSymbolLogo)),"showFloatingTooltip"in Oe&&(Be.showFloatingTooltip=Boolean(Oe.showFloatingTooltip)),Be.dateRange=(0,N.getActualTimeFrame)(Oe.dateRange||window.initData.widgetDefaults.dateRange),Be.exchange=Oe.exchange||De.exchange;const He=window.locale||De.locale||"en";Be.locale=He;const Fe=window.locale_domains[He]?window.locale_domains[He]:window.locale_domains.en;Be.tradingviewBaseUrl=Fe?document.location.protocol+"//"+Fe:"",Be.largeChartUrl=Oe.largeChartUrl;const We=Oe.isTransparent;Be.show_chart&&(Object.assign(Be,(0,k.pickFields)(Oe,["plotLineColorGrowing","plotLineColorFalling","gridLineColor","scaleFontColor","belowLineFillColorGrowing","belowLineFillColorFalling","belowLineFillColorGrowingBottom","belowLineFillColorFallingBottom","symbolActiveColor"])),void 0===Be.belowLineFillColorFallingBottom&&Be.belowLineFillColorFalling&&(Be.belowLineFillColorFallingBottom=Be.belowLineFillColorFalling),void 0===Be.belowLineFillColorGrowingBottom&&Be.belowLineFillColorGrowing&&(Be.belowLineFillColorGrowingBottom=Be.belowLineFillColorGrowing)),Object.assign(Be,(0,k.pickFields)(Oe,["symbolShortNameColor","symbolDescriptionColor","tickerColorGrowing","tickerColorFalling","symbolSeparatorColor","colorTheme"]));const $e=(0,E.filterUtmInfo)(Oe),Ie=(0,i.ensureNotNull)(document.querySelector("#widget-hotlists-container"));We&&(Ie.style.backgroundColor="transparent"),(0,S.createEmbedWidgetWrapper)(Ie,$e,{isWhiteLabel:Be.whitelabel,locale:He,customer:Be.customer}),Ie.classList.add("tv-site-widget"),Ie.classList.add("tv-site-widget--bg_none"),Ie.innerHTML='<div class="tv-widget-watch-list__head-embed js-widget-head">\n\t\t<div class="tv-site-widget__tabs\n\t\t\ttv-widget-watch-list__tabs\n\t\t\tjs-tabs\n\t\t"></div>\n\t</div>\n\t<div class="tv-widget-watch-list__body-embed js-widget-body">\n\t\t<div class="js-pages"></div>\n\t</div>',Object.assign(Be,{utmInfo:$e}),Be.onActivePageLoaded=t=>{t||(0,T.dispatchEventToParent)(x.IFrameEvents.Names.NoData,L.frameElementId,void 0)},new class extends class{constructor(t,e={}){this._stopPageTimeouts={},this._activePageLoadedPromise=null,this._destroyTabLabels=null,t||(ae.logError("`el` is required"),(0,i.assert)(Boolean(t),"`el` is required")),this.$el=ne(t),this.settings=this._prepareSettings(e),this._activePageLoadedPromise=null,this.tabsLabels=this.settings.tabs.map((t=>t.title||t.title_raw));const s=(0,k.pickFields)(this.settings,le);this.widgetColorClassMap=function(t){const e=(0,Nt.randomHashN)(4);return t.reduce(((t,s)=>{const i=s.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`));return t[s]=`${i}--${e}`,t}),{})}(Object.keys(s)),t.appendChild(function(t,e,s){const i=(t,e)=>`.${t}, .${t}:hover, .${t}:active { color: ${e} }`,o={symbolActiveColor:(t,e)=>`.${t} { background: ${e} }`,symbolSeparatorColor:(t,e)=>`.${t}:after { background: ${e} }`,tabSliderColor:(t,e)=>`.${t} { background: ${e} }`
},n=document.createElement("style"),r=[];for(const n of t){const t=s[n],a=e[n];if(!t||!a||null===(0,wt.tryParseRgb)(a))continue;const l=o[n];r.push(l?l(t,a):i(t,a))}return n.textContent=r.join(" "),n}(le,s,this.widgetColorClassMap)),this.settings.isEmbedWidget||"hotlists"===this.widgetName?(1===this.settings.tabs.length&&this.$el.find(".js-widget-head").addClass("i-hidden"),this.renderContent().then((()=>{this._initPages(),this.setAutoUpdate()}),(t=>{console.log("WidgetWatchlist constructor error",t)}))):this._initPages()}setAutoUpdate(){}get widgetName(){return"marketoverview"}get settingsKey(){return"watchlist__summary.properties"}get userSettings(){return{}}get templates(){return{tab:'\n\t\t\t\t<div class="tv-widget-watch-list__blank-tab js-widget-tab" data-content="{{ title_raw }}">{{ title }}\n\t\t\t\t</div>',tabContent:`\n\t\t\t\t<div class="tv-widget-watch-list{{^firstTab}} i-hidden{{/firstTab}}{{#firstTab}}{{#hotlistsSelectEnabled}} i-loading{{/hotlistsSelectEnabled}}{{/firstTab}}"{{#group}} data-tab-group="{{ group }}"{{/group}}>\n\t\t\t\t\t{{#showChart}}\n\t\t\t\t\t\t<div class="js-chart tv-widget-watch-list__chart"></div>\n\t\t\t\t\t\t<div class="js-timeframes tv-widget-watch-list__timeframe"></div>\n\t\t\t\t\t{{/showChart}}\n\t\t\t\t\t<div class="{{#isEmbedWidget}}tv-widget-watch-list__symbols-wrapper {{/isEmbedWidget}}js-symbols-wrapper"\n\t\t\t\t\t\t {{#minTableHeight}} style="min-height: {{ minTableHeight }}" {{/minTableHeight}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class="tv-site-table tv-widget-watch-list__table\n\t\t\t\t\t\t\t{{#isEmbedWidget}} tv-site-table--start-border {{/isEmbedWidget}}\n\t\t\t\t\t\t\t{{^showChart}} tv-site-table--no-start-border {{/showChart}}\n\t\t\t\t\t\t\t{{#forceEndBorder}} tv-site-table--with-end-border {{/forceEndBorder}}\n\t\t\t\t\t\t\t js-symbols-body">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{{^isEmbedWidget}}\n\t\t\t\t\t\t{{#quickLink}}\n\t\t\t\t\t\t\t<div class="js-quick-link-wrapper tv-feed-widget__quick-link-wrap tv-feed-widget__padded">\n\t\t\t\t\t\t\t\t<a class="tv-feed-widget__quick-link" href="{{ quickLink.href }}">{{ quickLink.title }}${s(108999)}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/quickLink}}\n\t\t\t\t\t{{/isEmbedWidget}}\n\t\t\t\t</div>`,tabContentSkin:'\n\t\t\t\t<div class="tv-widget-watch-list{{^firstTab}} i-hidden{{/firstTab}}{{#firstTab}}{{#hotlistsSelectEnabled}} i-loading{{/hotlistsSelectEnabled}}{{/firstTab}}"{{#group}} data-tab-group="{{ group }}"{{/group}}>\n\t\t\t\t</div>'}}renderContent(){const t=this.settings.tabs.map((t=>{const e=ne(re.render(this.templates.tabContent,{showChart:this.settings.show_chart,isEmbedWidget:this.settings.isEmbedWidget,group:t.group,firstTab:t===this.settings.tabs[0],forceEndBorder:this.settings.force_end_border},this.templates));return e.data("symbols",t.symbols.map((t=>Object({s:t.s,d:t.d,t:t.t})))),this.$el.find(".js-pages").append(e),!0}));return new Promise((e=>{Promise.all(t).then(e)}))}saveToTVSettings(t){const e=window.locale;let s=(0,ee.getJSON)(this.settingsKey);s||(s={}),s[e]=t,(0,
ee.setJSON)(this.settingsKey,s)}destroy(){this.$pagesContainer&&(this.$pagesContainer.children().each(((t,e)=>{this._stopPage(ne(e))})),this._destroyTabLabels&&this._destroyTabLabels())}resetCaches(){this.$pagesContainer&&this.$pagesContainer.children().each(((t,e)=>{const s=ne(e);this._getCachedWidgetPage(s)&&this._cacheWidgetPage(s,this._createWidgetWatchlistPage(s))}))}adjustToAvailableSizes(){this.$pagesContainer.children().each(((t,e)=>{if(!e.classList.contains("i-hidden")){const t=this._getCachedWidgetPage(ne(e));null==t||t.adjustToAvailableSizes()}}))}_startPage(t){let e=this._getCachedWidgetPage(t);if(e?(this._deleteStopTimeout(t),e.start()):(e=this._createWidgetWatchlistPage(t),this._cacheWidgetPage(t,e)),"function"==typeof this.settings.onActivePageLoaded){const t=this._activePageLoadedPromise=e.hasData().then((e=>{t===this._activePageLoadedPromise&&this.settings.onActivePageLoaded&&this.settings.onActivePageLoaded(e)}))}}_getCachedWidgetPage(t){return t.data("watchlist-widget-page")}_initPages(){const t=this.$el.find(".js-tabs").eq(0),e=this.$el.find(".js-pages").eq(0),s=1===e.children().length;this.settings.fixedChartHeight&&(this._normalizeSymbolListHeight(),setTimeout((()=>this._adjustSymbolsListHeight()),0)),s?this._startPage(e.children().eq(0)):(this._initTabs(t,e),!this.settings.fixedChartHeight&&this.settings.adjust_widget_height&&e.find(".js-chart").length&&this._adjustChartHeight(e,this.settings.adjust_widget_height)),this.$pagesContainer=e}_getPagesArray(t){return t?Array.prototype.slice.call(t.children):[]}_prepareSettings(t){let e;const s=this.$el.data("widget-data");if(s)if(s.is_embed_widget)e=Object.assign({},s,t);else{const i=this.userSettings;(!1===s.hotlists_select_enabled||s.override_user_exchange)&&delete i.exchange,e=Object.assign({},s,t,i)}else this.$el.data("widget-data",t),e=t;return void 0!==e.is_embed_widget&&(e.isEmbedWidget=e.is_embed_widget),e.is_embed_widget=void 0,e}_initTabs(t,e){const s=this._getPagesArray(e.get(0));(0,se.createTabLabels)("watchlist-widget-tab-labels",this.tabsLabels,t.get(0),s,this._onActivePageChanged.bind(this)).then((t=>this._destroyTabLabels=t)),this._startPage(ne((0,i.ensureNotNull)(this._getActivePage(s))))}_adjustChartHeight(t,e){const s=t.children(),o=document.querySelector(".js-quote-ticker"),n=document.querySelector(".js-chart");if(o&&n){const t=o.offsetHeight,r=n.offsetHeight;for(let o=0;o<s.length;o++){let n=e-s[o].querySelectorAll(".js-quote-ticker").length;if(n===e&&(n=1),n<e){const e=s[o].querySelector(".js-chart");(0,i.ensureNotNull)(e).style.height=`${r+t*n}px`}}}}_normalizeSymbolListHeight(){const t=(0,i.ensureNotNull)(this.$el[0].firstElementChild),e=t.querySelector(".js-pages");if(!e)return;let s=0;if(e){let i=0;for(let t=0;t<e.children.length;t++){const o=e.children[t];if(i=Math.max(o.querySelectorAll(".js-quote-ticker").length,i),!o.classList.contains("i-hidden")){const t=o.querySelector(".js-quote-ticker");t&&(s=t.offsetHeight)}}const o=t.querySelectorAll(".js-symbols-wrapper");for(let t=0;t<o.length;t++){o[t].style.minHeight=s*i+"px"
}}}_adjustSymbolsListHeight(){const t=this.$el[0].firstElementChild,e=getComputedStyle(t),s=t.offsetHeight-parseInt(e.paddingTop)-parseInt(e.paddingBottom),i=t.querySelector(".js-widget-head");let o=0;if(i){const t=getComputedStyle(i);o=i.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom)}const n=t.querySelector(".js-pages");if(!n)return;let r=0,a=0,l=0;for(let t=0;t<n.children.length;t++){const e=n.children[t];if(!e.classList.contains("i-hidden")){const t=e.querySelector(".js-chart");t&&(r=t.offsetHeight);const s=e.querySelector(".js-timeframes");if(s){const t=getComputedStyle(s);a=s.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom)}const i=e.querySelector(".js-quick-link-wrapper");i&&(l=i.offsetHeight);break}}const h=s-o-(r+a+l),c=n.querySelectorAll(".js-symbols-wrapper");for(let t=0;t<c.length;t++){c[t].style.minHeight=`${h}px`}}_createWidgetWatchlistPage(t){return new ce(t,{chartColorMap:(0,k.pickFields)(this.settings,he),dateRange:this.settings.dateRange||te.timeFrames["12m"].value.value,dateRangeOptions:this.settings.dateRangeOptions,disableLastFallingFlash:this.settings.disableLastFallingFlash,disableLastGrowingFlash:this.settings.disableLastGrowingFlash,hideAbsoluteChange:this.settings.hideAbsoluteChange,indexNameBold:this.settings.indexNameBold,indexNonClickable:this.settings.indexNonClickable,isEmbedWidget:this.settings.isEmbedWidget,largeChartUrl:this.settings.largeChartUrl,noLinks:this.settings.noLinks,onlyDescription:this.settings.onlyDescription,paintLastWithChangeColors:this.settings.paintLastWithChangeColors,showDataMode:this.settings.showDataMode,showMarketStatus:this.settings.showMarketStatus,showTitles:this.settings.showTitles,tradingviewBaseUrl:this.settings.tradingviewBaseUrl,utmInfo:this.settings.utmInfo,valueBold:this.settings.valueBold,valueTitleMarked:this.settings.valueTitleMarked,widgetColorClassMap:this.widgetColorClassMap,widgetName:this.widgetName,showSymbolLogo:this.settings.showSymbolLogo,locale:this.settings.locale,showFloatingTooltip:this.settings.showFloatingTooltip,colorTheme:this.settings.colorTheme})}_stopPage(t,e){const s=this._getCachedWidgetPage(t);s&&(e?this._setStopTimeout(t):s.stop())}_onActivePageChanged(t,e){e.forEach(((e,s)=>{if(t===s){if(this._startPage(ne(e)),this.settings.isEmbedWidget){const t=this._getCachedWidgetPage(ne(e));null==t||t.adjustToAvailableSizes()}}else this._stopPage(ne(e))}))}_getActivePage(t){for(const e of t)if(!e.classList.contains("i-hidden"))return e;return null}_cacheWidgetPage(t,e){t.data("watchlist-widget-page",e)}_setStopTimeout(t){this._stopPageTimeouts[t.index()]=setTimeout(this._stopPage.bind(this,t))}_deleteStopTimeout(t){const e=this._stopPageTimeouts[t.index()];e&&(clearTimeout(e),delete this._stopPageTimeouts[t.index()])}}{constructor(t,e={}){super(t,e),this.updateInterval=6e4,this.updateIntervalId=null,this.listLimit=this.settings.symbol_limit||5,this.settings.isEmbedWidget||this.initHotlistsDropdown(),this.updateInterval=6e4,this.tabsLabels=this.settings.tabs.map((t=>this.groupsTitlesMap[t.group]||t.title_raw))}
get widgetName(){return"hotlists"}get settingsKey(){return"watchlist__hot.properties"}get userSettings(){const t=(0,ee.getJSON)(this.settingsKey);let e;return t&&t[window.locale]&&(e=t[window.locale]),e?{exchange:e}:{}}get groupsTitlesMap(){return{volume_gainers:D.t(null,void 0,s(998795)),percent_change_gainers:D.t(null,void 0,s(738141)),percent_change_loosers:D.t(null,void 0,s(694583))}}renderContent(){if(this.settings.isEmbedWidget){if(function(t){const e=mt.slice();return t&&ft.includes(t)&&e.splice(e.indexOf("BMFBOVESPA"),1),"ambito"===t&&e.splice(e.indexOf("BCBA"),1),"hegnarno"===t&&e.splice(e.indexOf("OSL"),1),t&&_t.includes(t)&&e.splice(e.indexOf("BME"),1),t&&["riyadhcapitalD","riyadhcapitalRT"].includes(t)&&e.splice(e.indexOf("TADAWUL"),1),e}(this.settings.customer).includes(this.settings.exchange))return this.stopRenderWithMessage(D.t(null,void 0,s(808251))),Promise.reject()}Pe.isExchangeDistributed(this.settings.exchange)||(this.settings.exchange=Ee,Ne.logWarn(`${this.settings.exchange} is not available, default exchange was used: ${Ee}`));const t=this.$el.find(".js-widget-title-link")[0];t&&(t.href=Pe.getStockMarketUrl(this.settings.exchange,"market-movers-large-cap")),this._updateTabQuickLinks();const e=[],i=this.groupsTitlesMap;return this.settings.tabs.forEach((t=>{t.title=i[t.group]||t.title_raw;let s=this._getTabEl(t.group);const o=s.find(".js-symbols-wrapper").css("min-height");if(!s.length){const e=xe(Le.render(this.templates.tabContentSkin,{group:t.group,firstTab:t===this.settings.tabs[0],hotlistsSelectEnabled:this.settings.hotlists_select_enabled}));this.$el.find(".js-pages").append(e),s=this._getTabEl(t.group)}const n=xe(Le.render(this.templates.tabContent,{showChart:this.settings.show_chart,isEmbedWidget:this.settings.isEmbedWidget,group:t.group,firstTab:t===this.settings.tabs[0],hotlistsSelectEnabled:this.settings.hotlists_select_enabled,quickLink:t.quick_link,forceEndBorder:this.settings.force_end_border,minTableHeight:"0px"!==o&&o,showFloatingTooltip:this.settings.showFloatingTooltip}));s.html(n.html()),this._getCachedWidgetPage(s)&&e.push(this._setSymbolsToPageData(t.group,s))})),new Promise((t=>{Promise.all(e).then(t)}))}stopRenderWithMessage(t){if(this.$el.find(".js-widget-head").addClass("i-align_center").text(t).end().css("height","auto"),this.$el.find(".js-widget-body").remove(),window.frameElement){const t=document.querySelector(".js-embed-widget-head"),e=document.querySelector(".js-embed-widget-body"),s=t?t.offsetHeight:0,i=e?e.offsetHeight:this.$el.outerHeight(),o=window.frameElement;o.height=(s+i+parseInt(o.style.paddingBottom)).toString(),o.parentElement&&(o.parentElement.style.height="auto")}}initHotlistsDropdown(){const t=[];let e=0;Pe.availableExchanges.forEach((e=>{t.push({key:e,title:Pe.getExchangeFullName(e),flagId:Pe.getExchangeFlag(e),flagTitle:e})})),t.some(((t,s)=>t.key===this.settings.exchange&&(e=s,!0))),this.addExchangeSelect(t,e)}addExchangeSelect(t,e){const s={options:t,initialSelected:e,onSelect:this.onExchangeChange.bind(this),
disabled:!this.settings.hotlists_select_enabled,maxHeight:535,maxColumns:3,itemWidth:230,itemHeight:38,horizontalAttachment:"top",flagSize:"block-title"},i=P.createElement(gt,s),o=document.createElement("span");o.classList.add("tv-feed-widget__title-inline-select-wrapper"),this.$el.find(".js-hotlists-dropdown").prepend(o),M.render(i,o)}onExchangeChange(t){const e=t.key;this.destroy(),this.settings.exchange=e,null!==this.updateIntervalId&&(clearInterval(this.updateIntervalId),this.updateIntervalId=null),this.renderContent().then((()=>{this.resetCaches(),this._initPages(),this.setAutoUpdate()})),this.saveToTVSettings(e)}setAutoUpdate(){const t=this.$el.find(".js-pages").eq(0),e=this._getPagesArray(t.get(0));this.updateIntervalId=setInterval((()=>{e.forEach((t=>{const e=xe(t),s=this._getCachedWidgetPage(e);s&&this._setSymbolsToPageData(e.data("tab-group"),e).then((t=>{s.symbols=t}))}))}),this.updateInterval)}_startPage(t){if(t.find(".js-symbols-wrapper").css("min-height",60*this.listLimit+"px"),t.data("symbols"))super._startPage(t);else{const e=t.data("tabGroup");this._setSymbolsToPageData(e,t).then((()=>{super._startPage(t)}))}}_getTabEl(t){return this.$el.find(".js-pages").find(`[data-tab-group="${t}"]`)}_setSymbolsToPageData(t,e){return new Promise((s=>{Pe.getOneHotlist(this.settings.exchange,t,this.listLimit).then((i=>{(e=e||this._getTabEl(t)).data("symbols",i.map((t=>Object({s:t.s})))),s(i)}))}))}_updateTabQuickLinks(){this.settings.tabs.forEach((t=>{const e=t.group;t.quick_link||(t.quick_link={title:Me[e].title}),t.quick_link.href=Pe.getStockMarketUrl(this.settings.exchange,Me[e].href)}))}}(Ie,Be)},79338:(t,e,s)=>{"use strict";var i=s(823127);const o=s(201089).getLogger("CommonUI.CreateTVBlockPlugin");t.exports.createTvBlockWithInstance=function(t,e){if(t&&e)return t=t.toString(),function(n,r,a){var l,h,c;return"get"===n?l=r:(h=r,"object"==typeof n&&void 0===r?(h=n,n="init"):"string"!=typeof n&&(n="init")),"getInstance"===n?i(this).eq(0).data(t):"destroy"===n?(c=i(this).eq(0).data(t))?void("function"==typeof c.destroy?(s(c,"destroy",h),i(this).eq(0).removeData(t)):o.logError("[Block Plugin] "+t+" does not support destroy command")):void console.warn("[Block Plugin] Trying to execute destroy method of "+t+" but it has not been inited"):"get"===n?(c=i(this).eq(0).data(t))?"function"==typeof c[l]?s(c,l,a):c[l]:void console.warn("[Block Plugin] Trying to get prop or execute method of "+t+" but it has not been inited"):i(this).each((function(){var r=i(this),a=r.data(t);void 0===a&&(a=void 0===h?e(r):e(r,h),r.data(t,a)),"init"!==n&&("function"==typeof a[n]?s(a,n,h):o.logError("[Block Plugin] "+t+" does not support command "+n))}))};function s(t,e,s){return void 0===s?t[e]():t[e](s)}}},81979:(t,e,s)=>{"use strict";s.d(e,{color:()=>i.color,dur:()=>i.dur,easingFunc:()=>i.easingFunc});var i=s(745269)},337779:(t,e,s)=>{"use strict";function i(t){return t.reduce((function(t,e,s){return~t.indexOf(e)||t.push(e),t}),[])}s.r(e),s.d(e,{uniq:()=>i})},100578:t=>{
t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'}},t=>{t.O(0,[70166,18562,77195,66949,96793,4015,89842,76592,30006,92483,39855,50293,33371,37124,54712,67103,72104,46987,8545,83966,4912,35103,5987,67803,50690,99131,16744,87061,57686,28884,23100,30128,37570,14389,5023,93892,25146,96320,53371],(()=>{return e=396224,t(t.s=e);var e}));t.O()}]);