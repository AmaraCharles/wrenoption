(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[56222],{894615:t=>{t.exports={}},849960:t=>{t.exports={"css-value-copyright-transition-params":".6s 0s cubic-bezier(.4, .01, .22, 1)","css-value-copyright-transition-params-half-time":".3s 0s cubic-bezier(.4, .01, .22, 1)",label:"label-dzbd7lyV",logoWrap:"logoWrap-dzbd7lyV",expandedWithTransition:"expandedWithTransition-dzbd7lyV",expandedByClick:"expandedByClick-dzbd7lyV",start:"start-dzbd7lyV",end:"end-dzbd7lyV",snap:"snap-dzbd7lyV",top:"top-dzbd7lyV",bottom:"bottom-dzbd7lyV",large:"large-dzbd7lyV",expanded:"expanded-dzbd7lyV",label__link:"label__link-dzbd7lyV"}},527247:t=>{t.exports={}},901574:t=>{t.exports={}},285778:t=>{t.exports={wrapper:"wrapper-PQ5O_1M7",touch:"touch-PQ5O_1M7"}},165719:t=>{t.exports={}},745269:(t,e,i)=>{"use strict";i.d(e,{dur:()=>s,easingFunc:()=>n});const s=350,n={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},62889:(t,e,i)=>{"use strict";i.d(e,{CopyrightPosition:()=>s,copyrightLabel:()=>l});var s,n=i(497754),o=i(995683),r=i(389137),a=i(849960);function l({svgText:t,icon:e,theme:i,url:l,mode:h,verticalPosition:_=s.Vertical.Bottom,horizontalPosition:d=s.Horizontal.End,snapToEdge:c=!0,isExpanded:p=!1,className:u}){let g;switch(h){case"new":case"with_border":g=(0,r.clone)(i);break;default:g=(0,o.mergeThemes)((0,r.clone)(a),i)}const m=document.createElement("span");let f;l&&(f=document.createElement("a"),f.classList.add(g.label__link),f.href=l,f.target="_blank",f.rel="noopener noreferrer",f.setAttribute("data-target-type","copyright"),m.append(f)),m.className=n(g.label,d===s.Horizontal.Start&&g.start,d===s.Horizontal.End&&g.end,_===s.Vertical.Top&&g.top,_===s.Vertical.Bottom&&g.bottom,c&&g.snap,"large_old"===h&&g.large,p&&g.expanded,u,"js-copyright-label"),m.addEventListener("click",(()=>{function t(){m.classList.remove(g.expandedByClick),m.removeEventListener("mouseleave",t)}m.classList.contains(g.expandedWithTransition)||m.classList.contains(g.expanded)||(m.classList.contains(g.expandedByClick)?l||t():(m.classList.add(g.expandedByClick),m.addEventListener("mouseleave",t)))}));const b=document.createElement("span");b.className=g.logoWrap,b.innerHTML=e;const w=document.createElement("span");return w.className=g.svgTextWrap,w.innerHTML=t,m.append(b,w),[m,g]}!function(t){let e,i;!function(t){t[t.Bottom=0]="Bottom",t[t.Top=1]="Top"}(e=t.Vertical||(t.Vertical={})),function(t){t[t.Start=0]="Start",t[t.End=1]="End"}(i=t.Horizontal||(t.Horizontal={}))}(s||(s={}))},351079:(t,e,i)=>{"use strict";i.d(e,{CopyrightPosition:()=>n.CopyrightPosition,createCopyrightLabel:()=>a});var s=i(497754),n=i(62889),o=i(650401),r=i(952598);function a({isSheriffDisabled:t=!1,...e}){const[i,a]=(0,
n.copyrightLabel)(e);return t||(0,o.getWidgetSheriffActions)().then((t=>{i.className=s(i.className,t.includes(r.KnownAction.Expand)&&a.expandedWithTransition)})),i}},650401:(t,e,i)=>{"use strict";i.d(e,{getWidgetSheriffActions:()=>_});var s=i(125226),n=i(120780),o=i(201089),r=i(952598);const a=window.WIDGET_SHERIFF_HOST||"https://www.xstaging-widget.tv",l=(0,o.getLogger)("WidgetSheriff.Widget");let h=null;async function _(){return null===h&&(h=await async function(){if(!(0,s.isFeatureEnabled)("widget-sheriff"))return Promise.resolve([]);const t=document.location.ancestorOrigins&&document.location.ancestorOrigins.length?document.location.ancestorOrigins[document.location.ancestorOrigins.length-1]:null;if(null===t)return l.logWarn("ancestorOrigin is undefined"),Promise.resolve([]);const e=new URL("/sheriff/api/v1/rules/search",a);e.searchParams.append("origin",t);return(await(0,n.fetch)(e.toJSON()).then((t=>{if(!t.ok)throw new Error("Guard request error occured");return 204===t.status?Promise.resolve({actions:[]}):t.json()})).catch((t=>(l.logWarn(t.message),Promise.resolve({actions:[]}))))).actions.filter((t=>r.widgetSheriffActions.has(t)))}()),Promise.resolve(h)}},952598:(t,e,i)=>{"use strict";var s;i.d(e,{KnownAction:()=>s,widgetSheriffActions:()=>n}),function(t){t.Expand="expand-logo"}(s||(s={}));const n=new Set([s.Expand])},125226:(t,e,i)=>{"use strict";var s=i(49437).TVLocalStorage,n=i(707957).Delegate,o=i(855385);i(638456);var r=new n;TradingView.FeatureToggle={force_prefix:"forcefeaturetoggle.",onChanged:new n,enableFeature:function(t){s.setItem(this.force_prefix+t,"true"),r.fire(t)},disableFeature:function(t){s.setItem(this.force_prefix+t,"false"),r.fire(t)},resetFeature:function(t){s.removeItem(this.force_prefix+t),r.fire(t)},onFeaturesStateChanged:function(){return r}},TradingView.isFeatureEnabled=function(t){var e="featuretoggle_seed";function n(t){try{var i=o(t+function(){if(window.user&&window.user.id)return window.user.id;var t=s.getItem(e);return null!==t||(t=Math.floor(1e6*Math.random()),s.setItem(e,t)),t}());return new DataView(i).getUint32(0,!0)/4294967296}catch(t){return.5}}function a(e){return!("local"!==window.environment||!function(t){
var e=["skip_navigation_on_chart","tick_intervals","broker_TRADESTATION","broker_TRADOVATE_dev","black_friday_mainpage","black_friday_popup","datawindow","trading-fast-renew-oauth-token","switching_year_to_month_disabled","default_year_billing_cycle_switcher","marketing-analytics","visible_address_fields_by_default","slow-support-warning","hide-trading-floating-toolbar","save-short-streams","details_disable_bid_ask","vat_disabled","pro_plan_upgrades_disabled","pro_plan_downgrades_disabled","disable_recaptcha_on_signup","braintree-gopro-in-order-dialog","braintree-apple-pay","braintree-google-pay-uk","braintree-apple-pay-trial","braintree-google-pay-trial-uk","braintree-3ds-enabled","remove_order_ticket_cancel_button","trial_increased_monthly_discounts","razorpay-card-tvcoins","razorpay-card-subscriptions","razorpay-upi-tvcoins","razorpay-upi-subscriptions","razorpay-use-recurring-billing-scheduler","hide_gopro_popup_upgrade_button","tradestation_use_sync_mapper","broker_id_session","remove_line_tools_from_content","disable_retry_load_linetools_from_storage","modular_broker_use_sync_mapper","do_not_save_shared_line_tools_to_charts","save_shared_line_tools","multichart_replay","chart_storage_with_broker_name","oanda-european-accounts-warning","mobile_show_bottom_panel","disable_save_settings","desktop_version_notification_enabled","favorites-in-broker-dropdown","enable_toggle_streams_rtmp_url","hide_ecomonic_events","mobile_trading_web","mobile_trading_ios","mobile_trading_android","hide_real_brokers_on_mobile","disable_tradestation_country_block","enable_trading_server_logger","hide_ranges_label_colors","disable_user_specific_encryption","minds_widget_enabled","disable_pushstream_connections_for_anonymous_users","use_new_paper_status_mapping","use_staging_verifier","ally_use_new_sso_url","ibkr_use_new_init_session_api","enable_eventsource_pushstream_transport","enable_eventsource_pushstream_mobile","ftx_request_server_logger","ibkr_request_server_logger","disallow_concurrent_sessions","check_ibkr_side_maintenance","tradestation_request_server_logger","trading_request_server_logger","hide_tweet_drawingtool","RU_SF_disable","RU_VOR_disable","enable_monaco_editor","enable_import_inlay_hints","enable_pine_editor_status_bar","enable_pine_logs","enable_pine_editor_full_source_ids","enable_new_custom_public_chats","bottom_panel_track_events","ibkr_ws_account_summary","continuous_front_contract_trading","vertex-tax-included","show_data_problems_in_help_center","chart_storage_hibernation_delay_60min","chart_storage_hibernation_delay_10min","chart_storage_hibernation_delay_5min","widget-sheriff","enable_sign_in_popup_with_evercookie","start_replay_right_after_point_selection","switching_raf_toast","trade_button","order_type_specific_settings_saving","enable_share_idea_via_twitter","hide_position_trade_value","enable_qty_calculator_in_replay","alerts-widgets-use-facade","alerts-editor-use-facade","alerts-facade-use-permission-proxy","alerts-use-toasts-for-notifications","alerts-use-pricealerts-pushstream-for-notifications","alerts-use-pricealerts-pushstream-for-support-dialog","forexcom_session_v2","new_idea_publish_page","new_script_publish_page","fxcm_fcl_server_logger","minds_comments_enable_for_free_users","fxcm_trailing_stop_bracket","mock_tweet_data_for_tests","disable_coins_user_menu_item","disable_partner_program_user_menu_item","disable_refer_a_friend_user_menu_item","replay_result_sharing","ibkr_ws_server_logger","hide_left_right_arrow_tools","options_strategy_analyzer_tab","options_strategy_details","options_strategy_dialog","ibkr_subscribe_to_order_updates_first","ibkr_ws_account_ledger"],i="[A-Z]+[a-zA-Z0-9_]+",s=new RegExp(`broker_${i}_dev`,"g"),n=new RegExp(`hide_${i}_on_ios`,"g"),o=new RegExp(`hide_${i}_on_android`,"g"),r=new RegExp(`hide_${i}_on_mobile_web`,"g")
;return-1===e.indexOf(t)&&-1===t.indexOf("-maintenance")&&!1===s.test(t)&&!1===n.test(t)&&!1===o.test(t)&&!1===r.test(t)}(e))||(!t[e]||-1!==t[e])&&(!!("true"===s.getItem(TradingView.FeatureToggle.force_prefix+e)||window.is_authenticated&&"undefined"!=typeof user&&user.settings&&"true"===user.settings[TradingView.FeatureToggle.force_prefix+e])||!("false"===s.getItem(TradingView.FeatureToggle.force_prefix+e)||window.is_authenticated&&"undefined"!=typeof user&&user.settings&&"false"===user.settings[TradingView.FeatureToggle.force_prefix+e])&&(!!t[e]&&(1===t[e]||n(e)<=t[e])))}return TradingView.onWidget()||Promise.all([i.e(55404),i.e(1867),i.e(34604)]).then(i.bind(i,501867)).then((e=>{e.pushStreamMultiplexer.on("featuretoggle",(function(e){var i=a(e.name);t[e.name]=e.state,i!==a(e.name)&&r.fire(e.name)}))})),a}(window.featureToggleState||{}),TradingView.FeatureToggle,e.isFeatureEnabled=TradingView.isFeatureEnabled,TradingView.FeatureToggle.onFeaturesStateChanged.bind(TradingView.FeatureToggle)},230285:(t,e,i)=>{"use strict";function s(t){return t.includes(":")?t.split(":"):["",t]}i.d(e,{splitSymbolName:()=>s})},401580:(t,e,i)=>{"use strict";i.d(e,{WatchedValue:()=>l});var s=i(428123),n=i(194582),o=i(805377);const r=(0,n.getLogger)("Common.WatchedValue");function a(t){r.logError(`${t&&(t.stack||t.message)}`)}class l{constructor(...t){this._listeners=[],t.length>0&&(this._value=t[0])}destroy(){this.unsubscribe()}value(){return this._owner?this._owner._value:this._value}setValue(t,e){const i=this._owner?this._owner:this;if("function"==typeof i.hook&&(t=i.hook(t)),i.writeLock)return;const s=i._value===t||Number.isNaN(i._value)&&Number.isNaN(t);if(!e&&s&&i.hasOwnProperty("_value"))return;i._value=t;const n=i._listeners.slice();let o=0;for(let e=0;e<n.length;e++){n[e].once&&(i._listeners.splice(e-o,1),o++);try{n[e].cb(t)}catch(t){a(t)}}}deleteValue(){this.setValue(void 0)}subscribe(t,e){if("function"!=typeof t)throw new TypeError("callback must be a function");const i=!!e&&!!e.once,s=!!e&&!!e.callWithLast,n=this._owner?this._owner:this;if(s&&n.hasOwnProperty("_value")){try{t(n._value)}catch(t){a(t)}if(i)return}n._listeners.push({cb:t,owner:this,once:!!e&&!!e.once})}unsubscribe(t){const e=this._owner?this._owner:this;void 0===t&&(t=null);const i=e._listeners;for(let s=i.length;s--;)i[s].owner!==this&&e!==this||i[s].cb!==t&&null!==t||i.splice(s,1)}readonly(){if(this._readonlyInstance)return this._readonlyInstance;const t={subscribe:this.subscribe.bind(this),unsubscribe:this.unsubscribe.bind(this),value:this.value.bind(this),when:this.when.bind(this),ownership:this.ownership.bind(this),spawnOwnership:this.spawnOwnership.bind(this),weakReference:this.weakReference.bind(this),spawn:t=>this.spawn(t).readonly(),destroy:this.destroy.bind(this)};return this._readonlyInstance=t,t}spawn(t){return new h(this._owner||this,t)}when(t){(0,o.callWhen)(this,(t=>Boolean(t)),(()=>{try{t(this.value())}catch(t){a(t)}}))}assertNoSubscriptions(){0}ownership(){return(0,s.ownership)(this)}spawnOwnership(){return(0,s.ownership)(this.spawn())}
weakReference(){return(0,s.weakReference)(this)}}class h extends l{constructor(t,e){super(),delete this._listeners,this._owner=t,this._onDestroy=e}destroy(){var t;try{null===(t=this._onDestroy)||void 0===t||t.call(this)}catch(t){a(t)}super.destroy()}readonly(){return super.readonly()}}},79338:(t,e,i)=>{"use strict";var s=i(823127);const n=i(201089).getLogger("CommonUI.CreateTVBlockPlugin");t.exports.createTvBlockWithInstance=function(t,e){if(t&&e)return t=t.toString(),function(o,r,a){var l,h,_;return"get"===o?l=r:(h=r,"object"==typeof o&&void 0===r?(h=o,o="init"):"string"!=typeof o&&(o="init")),"getInstance"===o?s(this).eq(0).data(t):"destroy"===o?(_=s(this).eq(0).data(t))?void("function"==typeof _.destroy?(i(_,"destroy",h),s(this).eq(0).removeData(t)):n.logError("[Block Plugin] "+t+" does not support destroy command")):void console.warn("[Block Plugin] Trying to execute destroy method of "+t+" but it has not been inited"):"get"===o?(_=s(this).eq(0).data(t))?"function"==typeof _[l]?i(_,l,a):_[l]:void console.warn("[Block Plugin] Trying to get prop or execute method of "+t+" but it has not been inited"):s(this).each((function(){var r=s(this),a=r.data(t);void 0===a&&(a=void 0===h?e(r):e(r,h),r.data(t,a)),"init"!==o&&("function"==typeof a[o]?i(a,o,h):n.logError("[Block Plugin] "+t+" does not support command "+o))}))};function i(t,e,i){return void 0===i?t[e]():t[e](i)}}},542796:(t,e,i)=>{"use strict";var s=i(79338),n=i(778785),o=i(707957),r=i(650151);function a(t){const{paddingTop:e,paddingBottom:i}=window.getComputedStyle(t);return[e,i].reduce(((t,e)=>t-Number((e||"").replace("px",""))),t.clientHeight)}function l(t,e=!1){const i=getComputedStyle(t),s=[i.height];return"border-box"!==i.boxSizing&&s.push(i.paddingTop,i.paddingBottom,i.borderTopWidth,i.borderBottomWidth),e&&s.push(i.marginTop,i.marginBottom),s.reduce(((t,e)=>t+(parseFloat(e)||0)),0)}function h(t,e=!1){const i=getComputedStyle(t),s=[i.width];return"border-box"!==i.boxSizing&&s.push(i.paddingLeft,i.paddingRight,i.borderLeftWidth,i.borderRightWidth),e&&s.push(i.marginLeft,i.marginRight),s.reduce(((t,e)=>t+(parseFloat(e)||0)),0)}function _(t){if(!t.getClientRects().length)return{top:0,left:0};const e=t.getBoundingClientRect(),i=(0,r.ensureNotNull)(t.ownerDocument.defaultView);return{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}}function d(t){const e=getComputedStyle(t);let i,s={top:0,left:0};if("fixed"===e.position)i=t.getBoundingClientRect();else{i=_(t);const e=t.ownerDocument;let n=t.offsetParent||e.documentElement;for(;n&&(n===e.body||n===e.documentElement)&&"static"===getComputedStyle(n).position;)n=n.parentElement;n&&n!==t&&1===n.nodeType&&(s=_(n),s.top+=parseFloat(getComputedStyle(n).borderTopWidth),s.left+=parseFloat(getComputedStyle(n).borderLeftWidth))}return{top:i.top-s.top-parseFloat(e.marginTop),left:i.left-s.left-parseFloat(e.marginLeft)}}var c=i(764005),p=i(638456);i(165719);class u{constructor(t){var e,i;this._helper=null,this._handleDragStart=t=>{var e;if(null!==this._helper)return;const i=this._source
;i.classList.add("ui-draggable-dragging");const[s,n]=[h(i),l(i)];this._helper={startTop:parseFloat(i.style.top)||0,startLeft:parseFloat(i.style.left)||0,nextTop:null,nextLeft:null,raf:null,size:[s,n],containment:this._containment instanceof HTMLElement?[parseInt(getComputedStyle(this._containment).borderLeftWidth)+parseInt(getComputedStyle(this._containment).paddingLeft),parseInt(getComputedStyle(this._containment).borderTopWidth)+parseInt(getComputedStyle(this._containment).paddingTop),this._containment.offsetWidth-parseInt(getComputedStyle(this._containment).borderRightWidth)-parseInt(getComputedStyle(this._containment).paddingRight)-parseInt(getComputedStyle(i).marginLeft)-parseInt(getComputedStyle(i).marginRight)-s,this._containment.offsetHeight-parseInt(getComputedStyle(this._containment).borderBottomWidth)-parseInt(getComputedStyle(this._containment).paddingBottom)-parseInt(getComputedStyle(i).marginTop)-parseInt(getComputedStyle(i).marginBottom)-n]:"window"===this._containment?[window.scrollX,window.scrollY,window.scrollX+document.documentElement.offsetWidth-s,window.scrollY+document.documentElement.offsetHeight-n]:null},null===(e=this._start)||void 0===e||e.call(this)},this._handleDragMove=t=>{var e;if(null===this._helper)return;const{current:i,initial:s}=t.detail,n=this._source,o=this._helper.nextTop,r=this._helper.nextLeft,a="y"===this._axis||!1===this._axis||0!==i.movementY;if(a){const t=this._helper.startTop;isFinite(t)&&(this._helper.nextTop=i.clientY-s.clientY+t)}const l="x"===this._axis||!1===this._axis||0!==i.movementY;if(l){const t=this._helper.startLeft;isFinite(t)&&(this._helper.nextLeft=i.clientX-s.clientX+t)}if(null!==this._helper.containment){const[t,e,i,s]=this._helper.containment;a&&this._helper.nextTop&&(this._helper.nextTop=Math.min(this._helper.nextTop,s),this._helper.nextTop=Math.max(this._helper.nextTop,e)),l&&this._helper.nextLeft&&(this._helper.nextLeft=Math.min(this._helper.nextLeft,i),this._helper.nextLeft=Math.max(this._helper.nextLeft,t))}null!==this._helper.raf||o===this._helper.nextTop&&r===this._helper.nextLeft||(this._helper.raf=requestAnimationFrame((()=>{null!==this._helper&&(null!==this._helper.nextTop&&(n.style.top=this._helper.nextTop+"px",this._helper.nextTop=null),null!==this._helper.nextLeft&&(n.style.left=this._helper.nextLeft+"px",this._helper.nextLeft=null),this._helper.raf=null)}))),null===(e=this._drag)||void 0===e||e.call(this)},this._handleDragStop=t=>{var e;if(null===this._helper)return;this._source.classList.remove("ui-draggable-dragging"),this._helper=null,null===(e=this._stop)||void 0===e||e.call(this)};const s=this._source=t.source;s.classList.add("ui-draggable");const n=this._handle=null!==(e=t.handle?s.querySelector(t.handle):null)&&void 0!==e?e:s;n.classList.add("ui-draggable-handle"),this._start=t.start,this._stop=t.stop,this._drag=t.drag,this._backend=new g({handle:n,onDragStart:this._handleDragStart,onDragMove:this._handleDragMove,onDragStop:this._handleDragStop}),this._axis=null!==(i=t.axis)&&void 0!==i&&i,this._containment=t.containment}destroy(){
const t=this._source;t.classList.remove("ui-draggable"),t.classList.remove("ui-draggable-dragging");this._handle.classList.remove("ui-draggable-handle"),this._backend.destroy(),null!==this._helper&&(this._helper.raf&&cancelAnimationFrame(this._helper.raf),this._helper=null)}}class g{constructor(t){this._initial=null,this._handlePointerDown=t=>{if(null!==this._initial)return;if(!(t.target instanceof Element&&this._handle.contains(t.target)))return;if(this._initial=t,!this._dispatchEvent(this._createEvent("pointer-drag-start",t)))return void(this._initial=null);t.preventDefault();const e=this._getEventTarget();e.addEventListener("pointermove",this._handlePointerMove),e.addEventListener("pointerup",this._handlePointerUp),e.addEventListener("pointercancel",this._handlePointerUp),e.addEventListener("lostpointercapture",this._handlePointerUp),e.setPointerCapture(t.pointerId)},this._handlePointerMove=t=>{null!==this._initial&&this._initial.pointerId===t.pointerId&&(t.preventDefault(),this._dispatchEvent(this._createEvent("pointer-drag-move",t)))},this._handlePointerUp=t=>{if(null===this._initial||this._initial.pointerId!==t.pointerId)return;t.preventDefault();const e=this._getEventTarget();e.removeEventListener("pointermove",this._handlePointerMove),e.removeEventListener("pointerup",this._handlePointerUp),e.removeEventListener("pointercancel",this._handlePointerUp),e.removeEventListener("lostpointercapture",this._handlePointerUp),e.releasePointerCapture(this._initial.pointerId),this._dispatchEvent(this._createEvent("pointer-drag-stop",t)),this._initial=null};const e=this._handle=t.handle;this._onDragStart=t.onDragStart,this._onDragMove=t.onDragMove,this._onDragStop=t.onDragStop,e.style.touchAction="none";this._getEventTarget().addEventListener("pointerdown",this._handlePointerDown)}destroy(){this._handle.style.touchAction="";const t=this._getEventTarget();t.removeEventListener("pointerdown",this._handlePointerDown),t.removeEventListener("pointermove",this._handlePointerMove),t.removeEventListener("pointerup",this._handlePointerUp),t.removeEventListener("pointercancel",this._handlePointerUp),t.removeEventListener("lostpointercapture",this._handlePointerUp),null!==this._initial&&(t.releasePointerCapture(this._initial.pointerId),this._initial=null)}_getEventTarget(){return p.CheckMobile.iOS()||(0,p.isMac)()&&n.touch?window.document.documentElement:this._handle}_dispatchEvent(t){switch(t.type){case"pointer-drag-start":this._onDragStart(t);break;case"pointer-drag-move":this._onDragMove(t);break;case"pointer-drag-stop":this._onDragStop(t)}return!t.defaultPrevented}_createEvent(t,e){return(0,r.assert)(null!==this._initial),new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:{backend:this,initial:this._initial,current:e}})}}const m=[()=>navigator.userAgent.includes("Win")&&navigator.userAgent.includes("Chrome")?1/window.devicePixelRatio:1,()=>16,(t=(()=>0))=>{var e;return.8*(null!==(e=t())&&void 0!==e?e:0)}];i(901574);var f=i(285778);const b={headerHeight:0,additionalClass:"",alwaysVisible:!1,showBottomShadow:!0,scrollMarginTop:1,
bubbleScrollEvent:!1};class w{constructor(t,e,i={}){if(this.scrolled=new o.Delegate,this.scrolltoend=new o.Delegate,this.scrolltostart=new o.Delegate,this.visibilityCallbacks=[],this._scrollTargetTop=0,this._scrollSpeed=40,this._shadowOffset=10,this._shadowTop=null,this._shadowBottom=null,this._dragInitialized=!1,this._dragging=!1,this._draggable=null,this._atStart=!1,this._atEnd=!1,this._stickyBottom=null,this._animation=null,this._saved=null,this._options={...b,...i},this._wrapper=t,this._wrapper.classList.add(f.wrapper),this._content=e,this._headerHeight=this._options.headerHeight,this._scrollMarginTop=this._options.scrollMarginTop,this._scrollBar=document.createElement("div"),this._scrollBar.classList.add("sb-scrollbar","sb-scrollbar-body"),this._options.additionalClass&&this._scrollBar.classList.add(this._options.additionalClass),this._scrollBar.classList.toggle("active-always",this._options.alwaysVisible),this._scrollBarWrapper=document.createElement("div"),this._scrollBarWrapper.classList.add("sb-scrollbar-wrap"),this._touch=n.touch,this._touch)return this._content.style.position="relative",this._wrapper.classList.add(f.touch),void this._wrapper.addEventListener("scroll",(()=>this._onScroll()));this._wrapper.style.overflow="hidden",this._unsubscribe=(()=>{const t=()=>{this._dragging||(this._options.alwaysVisible||this._scrollBar.classList.add("active"),this._onScroll())},e=()=>{this._dragging||(this._options.alwaysVisible||this._scrollBar.classList.remove("active"),this._onScroll())},i=t=>{if(!t.defaultPrevented){const e=function(t,e=(()=>({}))){return{x:t.deltaX*m[t.deltaMode]((()=>e().width)),y:t.deltaY*m[t.deltaMode]((()=>e().height))}}(t,(()=>({height:this._wrapper.clientHeight}))).y;this.scroll(-e,1)||(t.stopPropagation(),t.preventDefault())}};return this._wrapper.addEventListener("mouseenter",t),this._wrapper.addEventListener("mouseleave",e),this._wrapper.addEventListener("wheel",i),()=>{this._wrapper.removeEventListener("mouseenter",t),this._wrapper.removeEventListener("mouseleave",e),this._wrapper.removeEventListener("wheel",i)}})(),!1!==this._options.showTopShadow&&(this._shadowTop=document.createElement("div"),this._shadowTop.classList.add("sb-inner-shadow","top","i-invisible"),this._wrapper.appendChild(this._shadowTop)),!1!==this._options.showBottomShadow&&(this._shadowBottom=document.createElement("div"),this._shadowBottom.classList.add("sb-inner-shadow"),this._wrapper.appendChild(this._shadowBottom)),this._shadowTop&&this._headerHeight&&(this._shadowTop.style.top=this._headerHeight-this._shadowOffset+"px"),this._wrapper.appendChild(this._scrollBarWrapper),this._scrollBarWrapper.appendChild(this._scrollBar),this._onScroll()}isTouch(){return this._touch}getScrollBar(){return this._scrollBar}initDraggable(){return this._dragInitialized||(this._draggable=new u({axis:"y",source:this._scrollBar,containment:this._scrollBarWrapper,start:()=>{this._dragging=!0},stop:()=>{this._dragging=!1},drag:()=>{this.updateScroll()}}),this._dragInitialized=!0),this}updateScroll(){if(this._touch)return this
;const t=Math.ceil(d(this._scrollBar).top-this._scrollMarginTop-this._headerHeight),e=this.getContainerHeightWithoutHeader(),i=l(this._content),s=i-e-1;return e<=0||(this._scrollTargetTop=s<=0?this._headerHeight:Math.min(-t*i/e+this._headerHeight,this._headerHeight),t+a(this._scrollBar)+2>=e?this.scrollToEnd():(this._content.style.top=this._scrollTargetTop+"px",this._onScroll())),this}getContainerHeightWithoutHeader(){return this._wrapper.getBoundingClientRect().height-this._headerHeight}getContainerHeight(){return this._wrapper.getBoundingClientRect().height}getContentHeight(){return this._content.getBoundingClientRect().height}updateScrollBar(){if(this._touch)return this;const t=d(this._content).top,e=this.getContentHeight(),i=this.getContainerHeight(),s=this.getContainerHeightWithoutHeader(),n=1+this._headerHeight,o=s-2,r=(Math.abs(t)-this._headerHeight)*o/e,a=i*i/e;return this.isContentShort()?(this._scrollBar.classList.add("js-hidden"),this._wrapper.classList.remove("sb-scroll-active")):(this._scrollBar.classList.remove("js-hidden"),this._scrollBar.style.height=a+"px",this._scrollBar.style.top=n+r+"px",this._wrapper.classList.add("sb-scroll-active"),this.initDraggable()),this}scroll(t,e){const i=d(this._content).top,s=l(this._content)-this.getContainerHeightWithoutHeader()-1,n=e||this._scrollSpeed;return s<=0||(this._scrollTargetTop=Math.max(-s+this._headerHeight,Math.min(this._headerHeight,i+t*n)),this.setContentTop(this._scrollTargetTop),this._onScroll())}animateTo(t){if(this._touch)return this;const e=l(this._content)-this.getContainerHeightWithoutHeader()-1;if(e<=0)return!0;this._scrollTargetTop=Math.max(-e+this._headerHeight,Math.min(this._headerHeight,-t)),this._animation&&this._animation.stop(),this._animation=(0,c.doAnimate)({duration:500,from:parseFloat(getComputedStyle(this._content).top),to:this._scrollTargetTop,onStep:(t,e)=>{this._content.style.top=e+"px"},onComplete:()=>{this._onScroll()}})}resize(){const t=l(this._content),e=l(this._wrapper);!this._options.vAlignBottom&&t<e?this.atStart()||this.scrollToStart():this.atEnd()?this.scrollToEnd():"number"==typeof this._stickyBottom&&this.setContentTop(Math.min(0,this._stickyBottom+l(this._wrapper)-l(this._content)))}resizeHeader(t){const e=t-this._headerHeight;this._headerHeight=t,this._scrollTargetTop+=e,this._shadowTop&&(this._shadowTop.style.top=this._headerHeight-this._shadowOffset+"px"),this.resize()}scrollTo(t,e){const i={position:"visible",areaHeight:t instanceof HTMLElement?a(t):0,...e};t instanceof HTMLElement&&(t=i.offsetTop||d(t).top);const s=d(this._content).top,n=this._content.getBoundingClientRect().height,o=this.getContainerHeightWithoutHeader();if(n-o-1<=0)return!0;const r=-1*(s-this._headerHeight),l=r+o;let h=0;if("visible"===i.position){if(t>r&&t+i.areaHeight<l)return!1;h=t+i.areaHeight>l?l-t-i.areaHeight:r-t}else"top"===i.position&&(h=r-t);return this.scroll(h,1),this._onScroll(),!1}scrollToEnd(){const t=d(this._content).top,e=l(this._content),i=l(this._wrapper),s=e>i?t+(i-(e+t))+1:1;return this.setContentTop(s),this._onScroll(),this
}scrollToStart(){return this.setContentTop(this._headerHeight),this._onScroll(),this}currentPosition(){return Math.round(d(this._content).top)}atStart(){return Math.round(d(this._content).top)>=this._headerHeight}atEnd(t){"number"==typeof t&&isFinite(t)||(t=0);const e=Math.round(d(this._content).top),i=Math.floor(l(this._content)),s=Math.floor(l(this._wrapper));return i-Math.abs(e)-1<=s+t}checkContentVisibility(){this._onContentVisible()}subscribeToContentVisible(t,e,i){this.visibilityCallbacks.push({id:t,element:e,callback:i})}triggerVisibilityCallbacks(t){this._onContentVisible(t)}save(){return this._saved={top:d(this._content).top,height:l(this._content)},this}restore(){if(this._saved){if(this._saved.top===d(this._content).top&&this._saved.height===l(this._content))return this._saved=null,this;this._options.vAlignBottom&&(this._saved.top-=l(this._content)-this._saved.height,this._saved.top>this._headerHeight&&(this._saved.top=this._headerHeight)),this.setContentTop(this._saved.top),this._saved=null,this._onScroll(!0)}return this}setContentTop(t){return this._touch?this._options.vAlignBottom&&l(this._content)<l(this._wrapper)?(this._wrapper.style.overflowY="visible",this._content.style.position="absolute",this._content.style.bottom="0px"):(this._content.style.position="relative",this._content.style.position="auto",this._wrapper.style.overflowY="auto",this._wrapper.scrollTop=-t):this._content.style.top=t+"px",this}isContentShort(){return this.getContentHeight()<=this.getContainerHeightWithoutHeader()}destroy(){var t;this._animation&&this._animation.stop(),this._scrollBarWrapper&&this._scrollBarWrapper.remove(),this._shadowBottom&&this._shadowBottom.remove(),this._shadowTop&&this._shadowTop.remove(),this._draggable&&(this._draggable.destroy(),this._draggable=null),this._content.style.cssText="",this._wrapper.style.cssText="",null===(t=this._unsubscribe)||void 0===t||t.call(this)}_onScroll(t){this._touch||(this._content.style.bottom="auto"),this.scrolled.fire(),this._dragging&&!0!==t||this.updateScrollBar();const e=this.atStart(),i=this.atEnd();return this._shadowTop&&this._shadowTop.classList.toggle("i-invisible",!!e),this._shadowBottom&&this._shadowBottom.classList.toggle("i-invisible",!!i),this._onContentVisible(),!this._atStart&&e?(this._atStart=!0,this.scrolltostart.fire()):this._atStart&&!e&&(this._atStart=!1),!this._atEnd&&i?(this._atEnd=!0,this.scrolltoend.fire()):this._atEnd&&!i&&(this._atEnd=!1),this._options.vAlignBottom&&(this._stickyBottom=l(this._content)-Math.abs(d(this._content).top)-l(this._wrapper)),(this._atStart||this._atEnd)&&("function"==typeof this._options.bubbleScrollEvent?Boolean(this._options.bubbleScrollEvent()):Boolean(this._options.bubbleScrollEvent))}_contentIsVisible(t){return d(t.element).top>-1*this.currentPosition()}_onContentVisible(t){if(!this.visibilityCallbacks.length)return;const e=t||this._contentIsVisible.bind(this),i=[],s=this.visibilityCallbacks.filter(((t,s)=>{if(!this._content.contains(t.element))return!1;const n=e(t);return n&&i.push(s),!n}));i.forEach((e=>{
this.visibilityCallbacks[e].callback(!!t)})),this.visibilityCallbacks=s}}var v=i(541558),y=(i(894615),i(823127));function T(t,e={}){const i=t.tvSiteWidget("getInstance");if(i)return i;this.$el=t,this.scroll=null,this._options=y.extend({},this.deafultOptions,t.data("tv-feed-widget-options")||{},e),this._fixedHeightElement=null;let s=!1;(this._options.$scrollWrapper||{}).length&&(this._options.$scrollInner||{}).length&&(this.setScrollElements({$scrollWrapper:this._options.$scrollWrapper,$scrollInner:this._options.$scrollInner}),s=!0),this._options.needScroll&&(s||(t.addClass("tv-feed-widget--scrollable"),this.wrapContent()),this.initScroll())}y.fn.tvSiteWidget=(0,s.createTvBlockWithInstance)("tv-feed-widget",(function(t,e){return new T(t,e)})),T.prototype.deafultOptions={needScroll:!1,scrollOptions:{showTopShadow:!0,showBottomShadow:!1,bubbleScrollEvent:!0}},T.prototype._allowedElements=["head","title","body","footer","show-more","scroll-wrapper","scroll-inner","scroll-content"],T.prototype.setScrollElements=function({$scrollWrapper:t,$scrollInner:e}){this.$scrollWrapper=t,this.$scrollInner=e},T.prototype.getElement=function(t){if(-1!==this._allowedElements.indexOf(t))return this._cache||(this._cache={}),this._cache[t]||(this._cache[t]=this.$el.find(".tv-feed-widget__"+t).eq(0)),this._cache[t].length||delete this._cache[t],this._cache[t]},T.prototype._setElement=function(t,e){var i=this.getElement(t);e=e||"",i&&i.length&&i.html(e)},T.prototype.setElements=function(t){var e;t=t||{};for(var i=this._allowedElements.length-1;i>=0;i--)e=this._allowedElements[i],t.hasOwnProperty(e)&&this._setElement(e,t[e])},T.prototype.wrapContent=function(){if(!(this.$scrollWrapper||{}).length||!(this.$scrollInner||{}).length){var t,e,i,s,n=this.$el,o=n.children(".tv-feed-widget__scroll-wrapper"),r=1===o.children().length&&o.children(".tv-feed-widget__scroll-inner"),a=o.length&&r.length,l=this.getElement("head"),h=n.height();a?(t=0,n.children().not(o).each((function(){t+=y(this).outerHeight(!0)})),o.height(h-t)):(e=n.children().not(l),i=(0,v.guid)(),o=y('<div class="tv-feed-widget__scroll-wrapper" id="'+i+'">'),t=l&&l.outerHeight(!0)||0,o.height(h-t),e.wrapAll(o),s=(0,v.guid)(),r=y('<div class="tv-feed-widget__scroll-inner" id="'+s+'">'),e.wrapAll(r),o=n.find("#"+i),r=n.find("#"+s)),this.$scrollWrapper=o,this.$scrollInner=r}},T.prototype.initScroll=function(){!this.scroll&&(this.$scrollWrapper||{}).length&&(this.$scrollInner||{}).length&&(this.scroll=new w(this.$scrollWrapper[0],this.$scrollInner[0],this._options.scrollOptions))},T.prototype.destroyScroll=function(){this.scroll&&(this.scroll.destroy(),delete this.scroll)}},764005:(t,e,i)=>{"use strict";i.d(e,{doAnimate:()=>o});const s={from:0,duration:250,easing:i(81979).easingFunc.easeOutCubic};class n{constructor(t){this._doing=!0,this._completed=!1,this._options={...s,...t};const e=performance.now();window.requestAnimationFrame((t=>{this._animation(e,this._options.from,t)}))}stop(){this._doing=!1}completed(){return this._completed}_animation(t,e,i){
if(!this._doing)return void this._finishAnimation();const s=(i=!i||i<1e12?performance.now():i)-t,n=s>=this._options.duration||e===this._options.to,o=(r=this._options.from,a=this._options.to,l=this._options.easing(s/this._options.duration),r*(1-l)+a*l);var r,a,l;const h=n?this._options.to:o,_=h-e;this._options.onStep(_,h),n?this._finishAnimation():window.requestAnimationFrame((e=>{this._animation(t,h,e)}))}_finishAnimation(){this._options.onComplete&&this._options.onComplete(),this._completed=!0}}function o(t){return new n(t)}},81979:(t,e,i)=>{"use strict";i.d(e,{dur:()=>s.dur,easingFunc:()=>s.easingFunc});var s=i(745269)}}]);